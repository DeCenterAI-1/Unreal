try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8d36b77b-e13f-4cb3-8bf9-7fab026db3c8",e._sentryDebugIdIdentifier="sentry-dbid-8d36b77b-e13f-4cb3-8bf9-7fab026db3c8")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90384],{6099:(e,t,l)=>{l.d(t,{A:()=>a});var i=l(71844),s=l(46032);function a(e){let{text:t,color:l,height:a,width:r}=e;switch(t){case"Public":return(0,i.jsx)(s.fC,{height:a,width:r,color:l});case"Private":return(0,i.jsx)(s.gC,{height:a,width:r,color:l});case"Liked":return(0,i.jsx)(s.C3,{height:a,width:r,color:l});case"Pinned":return(0,i.jsx)(s.ts,{height:a,width:r,color:l});case"Draft":return(0,i.jsx)(s.tM,{height:a,width:r,color:l});case"User":return(0,i.jsx)(s.ny,{height:a,width:r,color:l});case"Image":return(0,i.jsx)(s._T,{height:a,width:r,color:l})}}},22290:(e,t,l)=>{l.d(t,{g:()=>i});let i=(0,l(79621).v)(e=>({creationTab:"Public",profileTab:"Public",lastNavigationType:"none",isTransitioning:!1,setCreationTab:t=>e(e=>({creationTab:t,lastNavigationType:e.creationTab!==t?"tab":e.lastNavigationType})),setProfileTab:t=>e(e=>({profileTab:t,lastNavigationType:e.profileTab!==t?"tab":e.lastNavigationType})),setNavigationType:t=>e({lastNavigationType:t}),setIsTransitioning:t=>e({isTransitioning:t}),initFromUrl:(t,l)=>{if(!l)return;let i=l.charAt(0).toUpperCase()+l.slice(1).toLowerCase();["Public","Private","Liked","Pinned","Draft"].includes(i)&&("creation"===t?e(e=>({creationTab:i,lastNavigationType:e.creationTab!==i?"tab":e.lastNavigationType})):"profile"===t&&e(e=>({profileTab:i,lastNavigationType:e.profileTab!==i?"tab":e.lastNavigationType})))}}))},46626:(e,t,l)=>{l.d(t,{A:()=>b});var i=l(71844),s=l(76648),a=l(58425),r=l(40178),o=l(77710),n=l(46032),c=l(6099);function d(e){let{title:t,content:l,subContent:s}=e;return(0,i.jsx)("div",{className:"w-full h-full",children:(0,i.jsx)("div",{className:"flex justify-center items-center w-full h-[60vh]",children:(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,i.jsx)(c.A,{text:t,color:"#5D5D5D",width:"200px",height:"200px"}),(0,i.jsx)("p",{children:l}),(0,i.jsx)("p",{children:s})]})})})}var h=l(80903),x=l(31203),u=l(89100);l(68336);var p=l(85502);let f={FOUR_XL:2e3,TWO_XL:1536,XL:1280,LG:1024,MD:768,SM:640},m={LG:320},g=(0,x.default)(()=>l.e(29595).then(l.bind(l,29595)),{loadableGenerated:{webpack:()=>[29595]},ssr:!1,loading:()=>null});function b(e){let{title:t,content:l,subContent:c,data:x,isLoading:b=!1,hasNextPage:j=!1,fetchNextPage:v=()=>{},isFetchingNextPage:w=!1}=e;(0,s.useRef)(null);let[F,N]=(0,s.useState)([]),[y,T]=(0,s.useState)([]),[C,L]=(0,s.useState)(!0),[k,A]=(0,s.useState)(-1),[I,D]=(0,s.useState)(m.LG);(0,s.useEffect)(()=>{if(b&&!F.length&&L(!0),null==x?void 0:x.pages){let e=x.pages.flatMap(e=>e.data||[]).filter(e=>{var t,l;let i=null===(t=e.ipfsImages)||void 0===t?void 0:t[0];return(null==i?void 0:i.hash)&&(null==i?void 0:null===(l=i.fileNames)||void 0===l?void 0:l[0])}).map(e=>{var t,l;let i=null===(t=e.ipfsImages)||void 0===t?void 0:t[0],s=(0,p.Qp)(i.hash,null===(l=i.fileNames)||void 0===l?void 0:l[0],e.author);return{id:e.id.toString(),src:s,width:I,height:I,alt:e.caption||e.prompt||"",caption:e.caption,prompt:e.prompt||"",createdAt:e.createdAt,author:e.author}});T(e),(e.length>0||!b)&&(L(!1),N(e))}else!b&&x&&(L(!1),N([]))},[x,b,I]);let P=(0,s.useCallback)(e=>{A(e.index)},[]),z=(0,s.useCallback)(()=>{j&&v()},[j,v]);return((0,s.useEffect)(()=>{let e;let t=()=>{clearTimeout(e),e=setTimeout(()=>{let e=Number(window.innerWidth);e>=f.FOUR_XL?D(.22*e):e>=f.TWO_XL?D(.21*e):e>=f.XL?D(.276*e):e>=f.LG?D(.266*e):e>=f.MD?D(.41*e):e>=f.SM?D(.49*e):D(.98*e)},100)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),clearTimeout(e)}},[]),F.length||b||C||!x)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.A,{isLoadingInitial:b||C,isLoadingMore:w,loadMore:z,hasNextPage:j,children:(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-2 place-items-center",children:F.map((e,t)=>{let l={index:t,photo:e,width:e.width,height:e.height};return(0,i.jsx)("div",{style:{width:I,height:I},className:"relative grid-cols-1",children:(0,i.jsx)(u.A,{setImageIndex:()=>P(l),context:l,photo:(0,i.jsx)(a.default,{src:e.src,fill:!0,alt:String(e.alt),priority:t<8,className:"object-cover",loading:t<8?"eager":"lazy",sizes:"(min-width: 1536px) 380px, (min-width: 1024px) 320px, (min-width: 768px) 320px, 300px"}),section:"photoGridTwo",children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"absolute top-0 flex justify-between text-primary-1 text-sm picture-gradient w-full h-12 items-center px-3",children:[(0,i.jsx)("p",{children:(0,o.f)(l.photo.createdAt)}),(0,i.jsx)("button",{children:(0,i.jsx)(n.Ys,{color:"#FFFFFF"})})]}),(0,i.jsx)(a.default,{src:e.src,fill:!0,alt:String(e.alt),priority:t<8,className:"object-cover",loading:t<8?"eager":"lazy",sizes:"(min-width: 1536px) 380px, (min-width: 1024px) 320px, (min-width: 768px) 320px, 300px"}),(0,i.jsx)("p",{className:"absolute bottom-0 left-0 w-full text-left text-primary-1 text-sm picture-gradient h-14 p-3",children:(0,r.EJ)(l.photo.caption||l.photo.prompt)})]})})},e.id)})})}),k>-1&&(0,i.jsx)(g,{photo:F[k],setImageIndex:A})]}):(0,i.jsx)(d,{title:t,content:l,subContent:c})}},73079:(e,t,l)=>{l.d(t,{A:()=>d});var i=l(71844),s=l(76648),a=l(6099),r=l(69626),o=l(22290),n=l(72422);let c=[{text:"Public",index:0},{text:"Private",index:1},{text:"Liked",index:2},{text:"Pinned",index:3},{text:"Draft",index:4}];function d(e){let{hideDraft:t,currentIndex:l,setCurrentIndex:a,section:d}=e,{creationTab:x,profileTab:u,initFromUrl:p}=(0,o.g)(),f=(0,r.useSearchParams)(),m=(0,s.useMemo)(()=>c.filter(e=>!(t&&"Draft"===e.text)),[t]);return(0,s.useEffect)(()=>{let e=f.get("s");if(e){p(d,e);let t=m.findIndex(t=>t.text.toLowerCase()===e.toLowerCase());t>=0&&a(t)}},[f,p,d,m,a]),(0,i.jsx)(n.P.div,{className:"flex gap-x-8 border-b-[1px] border-primary-11 overflow-x-auto",initial:{opacity:.95},animate:{opacity:1},transition:{duration:.2},children:m.map(e=>{let{text:t,index:s}=e;return(0,i.jsx)(h,{currentIndex:l,index:s,text:t,setCurrentIndex:a,section:d},t)})})}function h(e){let{index:t,currentIndex:l,text:c,setCurrentIndex:d,section:h}=e,x=(0,r.usePathname)(),u=(0,r.useRouter)(),p=(0,r.useSearchParams)(),[f,m]=(0,s.useTransition)(),{setCreationTab:g,setProfileTab:b}=(0,o.g)(),j=l===t,v=(0,s.useMemo)(()=>j?"#DADADA":"#5D5D5D",[j]),w=(0,s.useCallback)(e=>{let t=new URLSearchParams(p.toString());return t.set("s",e.toLowerCase()),"".concat(x,"?").concat(t.toString())},[x,p]),F=(0,s.useCallback)(()=>{j||(d(t),"creation"===h?g(c):"profile"===h&&b(c),m(()=>{u.replace(w(c),{scroll:!1})}))},[t,d,c,h,g,b,x,u,j,w]);return(0,i.jsxs)(n.P.button,{className:"flex justify-center items-center gap-x-2 py-2 px-4 border-primary-1 ".concat(l===t?"border-b-2":""),onClick:F,whileTap:{scale:.98},transition:{duration:.1},disabled:f,children:[(0,i.jsx)("p",{style:{color:v},children:c}),(0,i.jsx)("div",{children:(0,i.jsx)(a.A,{text:c,width:"24px",height:"24px",color:v})})]})}},80903:(e,t,l)=>{l.d(t,{A:()=>r});var i=l(71844),s=l(76648),a=l(85921);l(68336);let r=function(e){let t=(0,s.useRef)(null),{isLoadingInitial:l,isLoadingMore:r,children:o,loadMore:n,hasNextPage:c}=e;return(0,s.useEffect)(()=>{let e=new IntersectionObserver(function(e){e.forEach(e=>{!e.isIntersecting||r||l||n()})},{root:null,rootMargin:"100px",threshold:0});return t.current&&e.observe(t.current),()=>e.disconnect()},[r,l,n]),(0,i.jsxs)("div",{className:"mb-32 w-full",children:[l&&(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full ",children:Array(12).fill(null).map((e,t)=>(0,i.jsx)(a.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))}),!l&&(0,i.jsx)(i.Fragment,{children:o}),(0,i.jsx)("div",{ref:t,id:"obs",children:r&&c&&(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full p-2 ",children:[,,,,].fill(null).map((e,t)=>(0,i.jsx)(a.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))})})]})}},89100:(e,t,l)=>{l.d(t,{A:()=>g});var i=l(71844),s=l(76648),a=l(46032),r=l(40178),o=l(5430),n=l(84532),c=l(57760),d=l(83672),h=l(77710),x=l(1667),u=l(3593),p=l(69626),f=l(62953),m=l.n(f);function g(e){let{hideContent:t,children:l,setImageIndex:f,context:g,photo:b,section:j}=e,v=(0,p.useRouter)(),[w,F]=(0,s.useState)(!1),{userId:N}=(0,d.J)(),{likes:y,likesCount:T,isLoading:C,hasUserLiked:L}=(0,o.G)(Number(g.photo.id),n.N),{mutate:k}=(0,c.$)(Number(g.photo.id),N,g.photo.author),A=null==y?void 0:y.some(e=>e.author===N),I=()=>{f()},{data:D,isLoading:P}=(0,x._9)(g.photo.id);(0,x.nU)(g.photo.id);let z=()=>{v.push("/home/photo/"+g.photo.id)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),className:"absolute top-0 left-0 w-full h-full flex flex-col text-primary-1 text-sm md:hover:bg-gray-900/50",children:[w&&(0,i.jsxs)("div",{className:"relative hidden md:flex flex-col text-primary-1 justify-between px-4 py-3 h-full",children:[(0,i.jsxs)("div",{onClick:z,className:"absolute top-0 left-0 w-full h-full",children:[" ",b," "]}),(0,i.jsx)("div",{onClick:z,className:"absolute top-0 left-0 w-full h-full cursor-pointer"}),t?(0,i.jsx)("div",{children:" "}):(0,i.jsxs)("div",{className:"flex justify-between text-primary-1 text-sm z-20",children:[(0,i.jsx)("p",{children:(0,h.f)(g.photo.createdAt)}),(0,i.jsx)(u.A,{image:g.photo,postId:g.photo.id,children:(0,i.jsx)(a.Ys,{color:"#FFFFFF"})})]}),(0,i.jsxs)("div",{className:"flex justify-center gap-4 z-10",children:[(0,i.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>k(),children:[A?(0,i.jsx)(a.zw,{color:"#FFFFFF"}):(0,i.jsx)(a.C3,{color:"#FFFFFF"}),(0,i.jsx)("p",{children:y?(0,r.ZV)(null==y?void 0:y.length):""})]}),(0,i.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>I(),children:[(0,i.jsx)(a.oy,{color:"#FFFFFF"})," ",(0,i.jsx)("p",{children:D?(0,r.ZV)(null==D?void 0:D.length):""})]})]}),t?(0,i.jsx)("p",{}):(0,i.jsxs)(m(),{href:"/home/photo/".concat(g.photo.id),children:[" ",(0,i.jsx)("p",{className:"text-left text-primary-1 text-sm z-10",children:(0,r.EJ)(g.photo.caption||g.photo.prompt)})]})]}),(0,i.jsxs)("div",{className:"flex flex-col md:hidden h-full w-full justify-between items-end p-3",children:[(0,i.jsx)("div",{className:"relative block mr-4",children:(0,i.jsx)("div",{className:"absolute",children:(0,i.jsx)("div",{className:"absolute z-20",children:(0,i.jsx)(u.A,{image:g.photo,postId:g.photo.id,children:(0,i.jsx)(a.Ys,{color:"#FFFFFF"})})})})}),(0,i.jsxs)("div",{className:"flex flex-col ".concat("photoGridTwo"==j?" mb-12":"mb-6"),children:[(0,i.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,i.jsx)("button",{className:"absolute flex flex-col items-center z-10",onClick:()=>k(),children:A?(0,i.jsx)(a.zw,{color:"#FFFFFF"}):(0,i.jsx)(a.C3,{color:"#FFFFFF"})}),(0,i.jsx)("p",{className:"mt-6 z-10",children:y?(0,r.ZV)(null==y?void 0:y.length):""})]}),(0,i.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,i.jsx)("button",{className:"absolute flex gap-1 items-center z-10",onClick:I,children:(0,i.jsx)(a.oy,{color:"#FFFFFF"})}),(0,i.jsx)("p",{className:"mt-6 z-10",children:D?(0,r.ZV)(null==D?void 0:D.length):""})]})]})]}),(0,i.jsxs)("div",{onClick:z,className:"absolute hidden md:block w-full h-full",children:[!w&&l," "]}),(0,i.jsxs)("div",{onClick:z,className:"absolute  md:hidden w-full h-full",children:[l," "]})]})})}}}]);