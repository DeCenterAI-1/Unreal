try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="81e0e6f3-f5a9-4386-9169-90e310c472f4",e._sentryDebugIdIdentifier="sentry-dbid-81e0e6f3-f5a9-4386-9169-90e310c472f4")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51860],{8795:()=>{},9686:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var l=r(71844),n=r(76648);function s(e,t){let[r,l]=t,[n,s]=e;return void 0!==n&&void 0!==s&&void 0!==r&&void 0!==l&&r>n&&r-n<=20&&l<s?[n,l]:n!==r||s!==l?[r,l]:e}function i(e){return["react-photo-album",e].filter(Boolean).join("--")}let o=Object.freeze([1200,600,300,0]);function a(e,t){return"function"==typeof e?e(t):e}function d(e,t,r,l=0){if(void 0===t)return;let n=void 0!==t?a(e,t):void 0;return Math.round(Math.max(void 0===n?a(r[Math.max(o.findIndex(e=>e<=t),0)],t):n,l))}function c(e,t=0){let r=10**t;return Math.round((e+Number.EPSILON)*r)/r}let u=(0,n.forwardRef)(function({as:e,render:t,context:r,classes:n=[],variables:s={},style:o,className:a,children:d,...u},h){let f=function(...e){return[...e].filter(Boolean).join(" ")}(...(Array.isArray(n)?n:[n]).filter(e=>"string"==typeof e).map(i),a),m={style:{...Object.fromEntries(Object.entries(s).map(([e,t])=>{var r;return[(r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),`--${i(r)}`),"number"==typeof t?c(t,5):t]})),...o},className:f,children:d,...u};if(t){let e=t({ref:h,...m},r);if(e)return e}return(0,l.jsx)(e||"div",{ref:h,...m})}),h=(0,n.forwardRef)(function({photo:e,index:t,width:r,height:n,onClick:s,render:{wrapper:i,link:o,button:a,image:d,extras:h}={},componentsProps:{link:f,button:m,wrapper:p,image:x}={}},g){let v;let{href:b}=e,j={photo:e,index:t,width:c(r,3),height:c(n,3)};return v=b?{...f,as:"a",render:o,classes:["photo","link"],href:b,onClick:s}:s?{...m,as:"button",type:"button",render:a,classes:["photo","button"],onClick:s}:{...p,render:i,classes:"photo"},(0,l.jsxs)(u,{ref:g,variables:{photoWidth:j.width,photoHeight:j.height},...{context:j,...v},children:[(0,l.jsx)(u,{as:"img",classes:"image",render:d,context:j,...x}),h?.({},j)]})}),f=(0,n.forwardRef)(function({layout:e,sizes:t,model:r,skeleton:s,onClick:i,render:{container:o,track:d,photo:f,...m}={},componentsProps:{container:p,track:x,link:g,button:v,wrapper:b,image:j}={}},w){let{spacing:y,padding:F,containerWidth:N,tracks:k,variables:C,horizontal:z}=r||{};return(0,l.jsxs)(u,{role:"group","aria-label":"Photo album",...p,variables:{spacing:y,padding:F,containerWidth:N,...C},classes:["",e],render:o,ref:w,children:[void 0!==y&&void 0!==F&&void 0!==N&&k?.map(({photos:e,variables:r},s)=>{let o=e.length,p=z?o:k.length;return n.createElement(u,{...x,key:s,render:d,classes:"track",variables:{trackSize:o,...r}},e.map(e=>{let{photo:r,index:n,width:s}=e,{key:o,src:d,alt:u,title:x,label:w}=r,k=i?e=>{i({event:e,photo:r,index:n})}:void 0;if(f){let t=f({onClick:k},e);if(t)return t}let C=e=>w?{"aria-label":w,...e}:e;return l.jsx(h,{onClick:k,render:m,componentsProps:{image:{loading:"lazy",decoding:"async",src:d,alt:u,title:x,...function(e,t,r,l,n,s,i){let o,a;let d=e=>{let t=s*(n-1)+2*i*n;return`calc((${e.match(/^\s*calc\((.*)\)\s*$/)?.[1]??e} - ${t}px) / ${c((l-t)/r,5)})`},u=e.srcSet;return u&&u.length>0&&(o=u.concat(u.some(({width:t})=>t===e.width)?[]:[{src:e.src,width:e.width,height:e.height}]).sort((e,t)=>e.width-t.width).map(e=>`${e.src} ${e.width}w`).join(", ")),{srcSet:o,sizes:t?.size?(t.sizes||[]).map(({viewport:e,size:t})=>`${e} ${d(t)}`).concat(d(t.size)).join(", "):`${Math.ceil(r/l*100)}vw`}}(r,t,s,N,p,y,F),...a(j,e)},link:C(a(g,e)),button:C(a(v,e)),wrapper:a(b,e)},...e},o??d)}))}),void 0===N&&s]})}),m=(0,n.forwardRef)(function(e,t){let{photos:r,breakpoints:i,defaultContainerWidth:o,...c}=e,{containerRef:u,containerWidth:h}=function(e,t,r){let[[l],i]=(0,n.useReducer)(s,[r]),o=function(e){let t=(0,n.useRef)(e);return(!e||!t.current||e.length!==t.current.length||t.current.some((t,r)=>t!==e[r]))&&(t.current=e),t.current}(t),a=(0,n.useRef)();return{containerRef:(0,n.useCallback)(t=>{var r;null===(r=a.current)||void 0===r||r.disconnect(),a.current=void 0;let l=()=>i([function(e,t){let r=null==e?void 0:e.clientWidth;if(void 0!==r&&t&&t.length>0){let e=[...t.filter(e=>e>0)].sort((e,t)=>t-e);e.push(Math.floor(e[e.length-1]/2)),r=e.find((t,l)=>t<=r||l===e.length-1)}return r}(t,o),window.innerWidth-document.documentElement.clientWidth]);l(),t&&"undefined"!=typeof ResizeObserver&&(a.current=new ResizeObserver(l),a.current.observe(t)),"function"==typeof e?e(t):e&&(e.current=t)},[e,o]),containerWidth:l}}(t,i,o),{spacing:m,padding:p,columns:x,...g}=function(e,{columns:t,...r}){return{...r,...function(e,{spacing:t,padding:r,componentsProps:l,render:n}){return{spacing:d(t,e,[20,15,10,5]),padding:d(r,e,[0,0,0,0]),componentsProps:a(l,e)||{},render:a(n,e)}}(e,r),columns:d(t,e,[5,4,3,2],1)}}(h,{photos:r,...c}),v=(0,n.useMemo)(()=>void 0!==h&&void 0!==m&&void 0!==p&&void 0!==x?function e(t,r,l,n,s){let i=(n-r*(s-1)-2*l*s)/s;if(i<=0)return s>1?e(t,r,l,n,s-1):void 0;let o=[];for(let e=0;e<s;e+=1)o[e]=0;let a=t.reduce((e,t,n)=>{let s=o.reduce((e,t,r)=>t<o[e]-1?r:e,0);return o[s]=o[s]+i/function({width:e,height:t}){return e/t}(t)+r+2*l,e[s].push({photo:t,index:n}),e},Array.from({length:s},()=>[]));return{spacing:r,padding:l,containerWidth:n,variables:{columns:s},tracks:a.map(e=>({photos:e.map(({photo:e,index:t})=>({photo:e,index:t,width:i,height:i/function({width:e,height:t}){return e/t}(e)}))}))}}(r,m,p,h,x):void 0,[r,m,p,h,x]);return(0,l.jsx)(f,{layout:"masonry",ref:u,model:v,...g})})},51860:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F});var l=r(71844),n=r(9686);r(8795);var s=r(76648),i=r(14669),o=r(89100),a=r(31203),d=r(84532),c=r(72528),u=r(80903),h=r(85502),f=r(69626),m=r(24281),p=r(19102),x=r(83672),g=r(17792),v=r(77633),b=r(55280);let j=(0,a.default)(()=>Promise.resolve().then(r.bind(r,29595)),{loadableGenerated:{webpack:()=>[29595]},ssr:!1,loading:()=>null});function w(e,t){var r;let{alt:n="",title:s,sizes:i}=e,{photo:o,width:a,height:d,index:c=0}=t,u=c<8,h="object"==typeof o&&null!==o&&"src"in o&&(null===(r=String(o.src).split("/").pop())||void 0===r?void 0:r.split("?")[0])||"gallery-img-".concat(c);return(0,l.jsx)("div",{style:{width:"100%",position:"relative",aspectRatio:"".concat(a," / ").concat(d)},children:(0,l.jsx)(b.A,{fill:!0,src:o,alt:n||"Gallery image",title:s,sizes:i||"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",loading:u?"eager":"lazy",priority:u,placeholder:"blurDataURL"in o?"blur":void 0,trackPerformance:!1,imageName:h})})}let y=(0,s.memo)(function(e){let{context:t,handleImageIndex:r}=e,n=t.photo.author||"",{data:s,isLoading:i}=(0,m.A)(n),{data:a,isLoading:d}=(0,p.A)(n);return(0,l.jsx)(o.A,{setImageIndex:()=>r(t),context:t,children:(0,l.jsx)("div",{className:"absolute flex items-center gap-1 bottom-2 left-2",children:!i&&!d&&s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"rounded-full",children:a?(0,l.jsx)(b.A,{className:"rounded-full border-[1px] border-primary-3 drop-shadow-lg",src:a,width:24,height:24,alt:"".concat(s,"'s profile picture"),trackPerformance:!0,imageName:"profile-".concat(n)}):(0,l.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"})}),(0,l.jsx)("p",{className:"font-semibold text-sm drop-shadow-lg",children:s})]})})})}),F=(0,s.memo)(function(e){let{}=e,[t,r]=(0,s.useState)(-1),[o,a]=(0,s.useState)(null),{userId:m}=(0,x.J)(),p=(0,f.useSearchParams)(),{id:b}=(0,f.useParams)(),F=p.get("a"),N=(0,s.useMemo)(()=>b?parseInt(b):null,[b]),{data:k}=(0,v.YK)(N),C=(0,s.useCallback)(async e=>{let{pageParam:t=0}=e,r=[];return{data:null!=(r=F?await (0,g.Pk)(d.N,t,Number(N),null==k?void 0:k.author):await (0,g.E3)(d.N,t,Number(N),null==k?void 0:k.author))?r:[],nextCursor:r.length===i.bh?t+1:void 0}},[F,N,null==k?void 0:k.author]),z=(0,s.useMemo)(()=>["other_posts_by_user",(null==k?void 0:k.author)||"",F?"drafts":"public",N],[null==k?void 0:k.author,F,N]),{isLoading:A,isError:I,error:P,data:E,isFetchingNextPage:M,hasNextPage:R,fetchNextPage:$}=(0,c.useInfiniteQuery)({queryKey:z,queryFn:C,initialPageParam:0,getNextPageParam:e=>{if((null==e?void 0:e.data)&&Array.isArray(e.data))return e.data.length<10?void 0:e.nextCursor}}),L=(0,s.useCallback)(()=>{a(window.innerWidth<i.ux?2:4)},[]);(0,s.useEffect)(()=>(L(),window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L)}),[L]);let _=(0,s.useCallback)(e=>{r(e.index)},[]),O=(0,s.useMemo)(()=>{var e;return(0,h.wK)(null!==(e=null==E?void 0:E.pages)&&void 0!==e?e:[])},[null==E?void 0:E.pages]);return I?(0,l.jsx)("p",{className:"wrapper",children:"message"in P?P.message:P}):A||E&&0!==E.pages.length&&0!==E.pages[0].data.length?o?(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)(u.A,{isLoadingInitial:A||!E&&!P,isLoadingMore:M,loadMore:()=>R&&$(),hasNextPage:R,children:(0,l.jsx)(n.A,{photos:O,columns:o,spacing:4,render:{extras:(e,t)=>(0,l.jsx)(y,{context:t,handleImageIndex:_}),image:w}})}),(0,l.jsx)(j,{photo:t>-1&&O[t],setImageIndex:r})]}):null:(0,l.jsx)("p",{className:"text-center",children:"No Data found."})})},80903:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var l=r(71844),n=r(76648),s=r(85921);r(68336);let i=function(e){let t=(0,n.useRef)(null),{isLoadingInitial:r,isLoadingMore:i,children:o,loadMore:a,hasNextPage:d}=e;return(0,n.useEffect)(()=>{let e=new IntersectionObserver(function(e){e.forEach(e=>{!e.isIntersecting||i||r||a()})},{root:null,rootMargin:"100px",threshold:0});return t.current&&e.observe(t.current),()=>e.disconnect()},[i,r,a]),(0,l.jsxs)("div",{className:"mb-32 w-full",children:[r&&(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full ",children:Array(12).fill(null).map((e,t)=>(0,l.jsx)(s.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))}),!r&&(0,l.jsx)(l.Fragment,{children:o}),(0,l.jsx)("div",{ref:t,id:"obs",children:i&&d&&(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full p-2 ",children:[,,,,].fill(null).map((e,t)=>(0,l.jsx)(s.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))})})]})}},89100:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var l=r(71844),n=r(76648),s=r(46032),i=r(40178),o=r(5430),a=r(84532),d=r(57760),c=r(83672),u=r(77710),h=r(1667),f=r(3593),m=r(69626),p=r(62953),x=r.n(p);function g(e){let{hideContent:t,children:r,setImageIndex:p,context:g,photo:v,section:b}=e,j=(0,m.useRouter)(),[w,y]=(0,n.useState)(!1),{userId:F}=(0,c.J)(),{likes:N,likesCount:k,isLoading:C,hasUserLiked:z}=(0,o.G)(Number(g.photo.id),a.N),{mutate:A}=(0,d.$)(Number(g.photo.id),F,g.photo.author),I=null==N?void 0:N.some(e=>e.author===F),P=()=>{p()},{data:E,isLoading:M}=(0,h._9)(g.photo.id);(0,h.nU)(g.photo.id);let R=()=>{j.push("/home/photo/"+g.photo.id)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),className:"absolute top-0 left-0 w-full h-full flex flex-col text-primary-1 text-sm md:hover:bg-gray-900/50",children:[w&&(0,l.jsxs)("div",{className:"relative hidden md:flex flex-col text-primary-1 justify-between px-4 py-3 h-full",children:[(0,l.jsxs)("div",{onClick:R,className:"absolute top-0 left-0 w-full h-full",children:[" ",v," "]}),(0,l.jsx)("div",{onClick:R,className:"absolute top-0 left-0 w-full h-full cursor-pointer"}),t?(0,l.jsx)("div",{children:" "}):(0,l.jsxs)("div",{className:"flex justify-between text-primary-1 text-sm z-20",children:[(0,l.jsx)("p",{children:(0,u.f)(g.photo.createdAt)}),(0,l.jsx)(f.A,{image:g.photo,postId:g.photo.id,children:(0,l.jsx)(s.Ys,{color:"#FFFFFF"})})]}),(0,l.jsxs)("div",{className:"flex justify-center gap-4 z-10",children:[(0,l.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>A(),children:[I?(0,l.jsx)(s.zw,{color:"#FFFFFF"}):(0,l.jsx)(s.C3,{color:"#FFFFFF"}),(0,l.jsx)("p",{children:N?(0,i.ZV)(null==N?void 0:N.length):""})]}),(0,l.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>P(),children:[(0,l.jsx)(s.oy,{color:"#FFFFFF"})," ",(0,l.jsx)("p",{children:E?(0,i.ZV)(null==E?void 0:E.length):""})]})]}),t?(0,l.jsx)("p",{}):(0,l.jsxs)(x(),{href:"/home/photo/".concat(g.photo.id),children:[" ",(0,l.jsx)("p",{className:"text-left text-primary-1 text-sm z-10",children:(0,i.EJ)(g.photo.caption||g.photo.prompt)})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:hidden h-full w-full justify-between items-end p-3",children:[(0,l.jsx)("div",{className:"relative block mr-4",children:(0,l.jsx)("div",{className:"absolute",children:(0,l.jsx)("div",{className:"absolute z-20",children:(0,l.jsx)(f.A,{image:g.photo,postId:g.photo.id,children:(0,l.jsx)(s.Ys,{color:"#FFFFFF"})})})})}),(0,l.jsxs)("div",{className:"flex flex-col ".concat("photoGridTwo"==b?" mb-12":"mb-6"),children:[(0,l.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,l.jsx)("button",{className:"absolute flex flex-col items-center z-10",onClick:()=>A(),children:I?(0,l.jsx)(s.zw,{color:"#FFFFFF"}):(0,l.jsx)(s.C3,{color:"#FFFFFF"})}),(0,l.jsx)("p",{className:"mt-6 z-10",children:N?(0,i.ZV)(null==N?void 0:N.length):""})]}),(0,l.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,l.jsx)("button",{className:"absolute flex gap-1 items-center z-10",onClick:P,children:(0,l.jsx)(s.oy,{color:"#FFFFFF"})}),(0,l.jsx)("p",{className:"mt-6 z-10",children:E?(0,i.ZV)(null==E?void 0:E.length):""})]})]})]}),(0,l.jsxs)("div",{onClick:R,className:"absolute hidden md:block w-full h-full",children:[!w&&r," "]}),(0,l.jsxs)("div",{onClick:R,className:"absolute  md:hidden w-full h-full",children:[r," "]})]})})}}}]);