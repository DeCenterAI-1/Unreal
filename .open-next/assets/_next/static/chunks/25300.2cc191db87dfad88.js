try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7fecacd5-eef3-49e2-8699-39654138f71f",e._sentryDebugIdIdentifier="sentry-dbid-7fecacd5-eef3-49e2-8699-39654138f71f")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25300],{25300:(e,t,n)=>{n.d(t,{upload:()=>u});var i=n(67716),r=n(77969),a=n(30748),f=n(50835);function s(e){return globalThis.File&&e instanceof File}function l(e){return!!(e&&(0,a.C)(e,["data","name"]))&&!!("string"==typeof e.name&&("string"==typeof e.data||(0,f.mg)(e.data)))}function o(e){return s(e)||(0,f.mg)(e)||l(e)}async function u(e){let t;if(0===e.files.length)return null;if(e.files.map(e=>o(e)||"string"==typeof e).every(e=>!!e))t=e.files;else{let n=e.files,i=function e(t,n=[]){if(o(t))return n.push(t),n;if("object"==typeof t){if(!t)return n;if(Array.isArray(t))for(let i of t)e(i,n);else Object.keys(t).map(i=>e(t[i],n))}return n}(n=function e(t){return"string"==typeof t?function(e){if(e.includes("/ipfs/")){let t=e.split("/ipfs/")[1];return`ipfs://${t}`}return e}(t):"object"==typeof t?!t||o(t)?t:Array.isArray(t)?t.map(t=>e(t)):Object.fromEntries(Object.entries(t).map(([t,n])=>[t,e(n)])):t}(n));if(i.length){let t=await u({...e,files:i});n=function e(t,n){if(o(t)){if(n.length)return n.shift();console.warn("Not enough URIs to replace all files in object.")}return"object"==typeof t?t?Array.isArray(t)?t.map(t=>e(t,n)):Object.fromEntries(Object.entries(t).map(([t,i])=>[t,e(i,n)])):t:t}(n,Array.isArray(t)?t:[t])}t=n.map(e=>"string"==typeof e?e:(0,r.A)(e))}let{fileNames:a,form:d}=function(e,t,n){let i=new Map,r=[];for(let a=0;a<t.length;a++){let o=t[a],u="",d=o;if(s(o)){if(n?.rewriteFileNames){let e="";if(o.name){let t=o.name.lastIndexOf(".");t>-1&&(e=o.name.substring(t))}u=`${a+n.rewriteFileNames.fileStartNumber}${e}`}else u=`${o.name}`}else l(o)?(d=o.data,u=n?.rewriteFileNames?`${a+n.rewriteFileNames.fileStartNumber}`:`${o.name}`):u=n?.rewriteFileNames?`${a+n.rewriteFileNames.fileStartNumber}`:`${a}`;let p=n?.uploadWithoutDirectory?"files":`files/${u}`;if(i.has(u)){if(function(e,t){if(s(e)&&s(t)){if(e.name===t.name&&e.lastModified===t.lastModified&&e.size===t.size)return!0}else if((0,f.mg)(e)&&(0,f.mg)(t))return(0,f.tv)(e,t);else if(l(e)&&l(t)&&e.name===t.name){if("string"==typeof e.data&&"string"==typeof t.data)return e.data===t.data;if((0,f.mg)(e.data)&&(0,f.mg)(t.data))return(0,f.tv)(e.data,t.data)}return!1}(i.get(u),o)){r.push(u);continue}throw Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${u} was passed for more than one different file.`)}i.set(u,o),r.push(u),e.append("file",new Blob([d]),p)}let a={name:"Storage SDK",keyvalues:{...n?.metadata}};return e.append("pinataMetadata",JSON.stringify(a)),n?.uploadWithoutDirectory&&e.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:e,fileNames:r.map(e=>encodeURIComponent(e))}}(new FormData,t,e),p=(0,i.l)();if("browser"===p||"node"===p){let{uploadBatch:t}=await n.e(79062).then(n.bind(n,79062)),i=await t(e.client,d,a,e);return 1===e.files.length?i[0]:i}throw Error("Please, use the uploadMobile function in mobile environments.")}},30748:(e,t,n)=>{n.d(t,{C:()=>i});function i(e,t=[]){return"object"==typeof e&&null!==e&&t.every(t=>t in e)}}}]);