try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0a070e85-e390-4bba-a6d1-c9e96cf5c013",e._sentryDebugIdIdentifier="sentry-dbid-0a070e85-e390-4bba-a6d1-c9e96cf5c013")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{4506:(e,t,a)=>{"use strict";a.d(t,{default:()=>d});var i=a(71844),n=a(64288),r=a.n(n),o=a(76648),s=a(69626),l=a(80655),c=a.n(l);c().configure({showSpinner:!1,speed:300,minimum:.15,trickleSpeed:120,easing:"ease-out",parent:"body"});let d=(0,o.memo)(()=>{let e=(0,s.usePathname)(),t=(0,s.useSearchParams)(),a=(0,o.useRef)(e),n=(0,o.useRef)(null==t?void 0:t.toString()),l=(0,o.useRef)(null);return(0,o.useEffect)(()=>{var i,r;let o=null==t?void 0:t.toString();return a.current===e&&(null===(i=n.current)||void 0===i?void 0:i.includes("tab="))&&(null==o?void 0:o.includes("tab="))||(null===(r=n.current)||void 0===r?void 0:r.includes("s="))&&(null==o?void 0:o.includes("s="))||(l.current&&clearTimeout(l.current),requestAnimationFrame(()=>{c().start(),requestAnimationFrame(()=>{c().set(.3)})}),l.current=setTimeout(()=>{c().done(!0)},300)),a.current=e,n.current=o,()=>{l.current&&clearTimeout(l.current)}},[e,t]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r(),{id:"ec04f4122bf903ae",children:"#nprogress{pointer-events:none}#nprogress .bar{background:#fff;position:fixed;z-index:9999;top:0;left:0;width:100%;height:2px;opacity:.8}#nprogress .peg{display:block;position:absolute;right:0px;width:100px;height:100%;-webkit-box-shadow:0 0 10px rgba(255,255,255,.5),0 0 5px rgba(255,255,255,.5);-moz-box-shadow:0 0 10px rgba(255,255,255,.5),0 0 5px rgba(255,255,255,.5);box-shadow:0 0 10px rgba(255,255,255,.5),0 0 5px rgba(255,255,255,.5);opacity:.8;-webkit-transform:rotate(3deg)translate(0px,-4px);-moz-transform:rotate(3deg)translate(0px,-4px);-ms-transform:rotate(3deg)translate(0px,-4px);-o-transform:rotate(3deg)translate(0px,-4px);transform:rotate(3deg)translate(0px,-4px)}"})})})},6169:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var i=a(71844),n=a(76648),r=a(69626),o=a(23564),s=a(72422),l=a(22290);let c=n.createContext({isPageTransitioning:!1}),d=n.memo(e=>{let{children:t,stableKey:a,currentVariants:n}=e;return(0,i.jsx)(o.N,{mode:"sync",initial:!1,children:(0,i.jsx)(s.P.div,{initial:"initial",animate:"animate",exit:"exit",variants:n,children:t},a)})});function u(e){let{children:t}=e,{lastNavigationType:a,setNavigationType:o,setIsTransitioning:s}=(0,l.g)();(0,n.useRef)(!1);let[u,p]=(0,n.useState)(!1),f=(0,r.usePathname)(),b=(0,r.useSearchParams)(),g=(0,n.useRef)(f),m=(0,n.useRef)((null==b?void 0:b.get("s"))||(null==b?void 0:b.get("tab"))||""),[h,v]=(0,n.useState)(f),y=(0,n.useCallback)((e,t,a,i)=>e===t&&a!==i,[]);return(0,n.useEffect)(()=>{let e=(null==b?void 0:b.get("s"))||(null==b?void 0:b.get("tab"))||"";if(!g.current){g.current=f,m.current=e,v(f);return}let t=y(f,g.current,e,m.current||"");t||f===g.current?t&&(o("tab"),s(!0),setTimeout(()=>{s(!1)},150)):(o("page"),p(!0),v(f),setTimeout(()=>{p(!1)},300)),g.current=f,m.current=e},[f,b,y,o,s]),(0,n.useEffect)(()=>{(f.includes("/home")||f.includes("/creations")||f.includes("/profile"))&&requestAnimationFrame(()=>{let e=Array.from(document.head.querySelectorAll('link[rel="preload"][as="fetch"]')).map(e=>e.href),t=[];f.includes("/home")?["explore","following","top","search"].forEach(a=>{let i="".concat(f,"?s=").concat(a);e.includes(i)||t.push(i)}):(f.includes("/creations")||f.includes("/profile"))&&["public","private","liked","pinned","draft"].forEach(a=>{let i="".concat(f,"?s=").concat(a);e.includes(i)||t.push(i)}),t.forEach(e=>{let t=document.createElement("link");t.rel="preload",t.as="fetch",t.href=e,document.head.appendChild(t)})})},[f]),(0,i.jsx)(c.Provider,{value:{isPageTransitioning:u},children:(0,i.jsx)(d,{stableKey:h,currentVariants:"tab"===a?{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1}}:{initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},children:t})})}d.displayName="PageTransition"},22290:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});let i=(0,a(79621).v)(e=>({creationTab:"Public",profileTab:"Public",lastNavigationType:"none",isTransitioning:!1,setCreationTab:t=>e(e=>({creationTab:t,lastNavigationType:e.creationTab!==t?"tab":e.lastNavigationType})),setProfileTab:t=>e(e=>({profileTab:t,lastNavigationType:e.profileTab!==t?"tab":e.lastNavigationType})),setNavigationType:t=>e({lastNavigationType:t}),setIsTransitioning:t=>e({isTransitioning:t}),initFromUrl:(t,a)=>{if(!a)return;let i=a.charAt(0).toUpperCase()+a.slice(1).toLowerCase();["Public","Private","Liked","Pinned","Draft"].includes(i)&&("creation"===t?e(e=>({creationTab:i,lastNavigationType:e.creationTab!==i?"tab":e.lastNavigationType})):"profile"===t&&e(e=>({profileTab:i,lastNavigationType:e.profileTab!==i?"tab":e.lastNavigationType})))}}))},29576:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,20071,23)),Promise.resolve().then(a.t.bind(a,82530,23)),Promise.resolve().then(a.bind(a,4506)),Promise.resolve().then(a.bind(a,99781)),Promise.resolve().then(a.t.bind(a,72031,23)),Promise.resolve().then(a.bind(a,6169))},72031:()=>{},99781:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var i=a(71844),n=a(76648);let r=(0,a(31203).default)(()=>a.e(32667).then(a.bind(a,32667)),{loadableGenerated:{webpack:()=>[32667]},ssr:!1}),o=(0,n.memo)(function(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!("serviceWorker"in navigator))return;let e=async e=>{if(e)try{e.postMessage({type:"SET_BUILD_VERSION",version:"1.0.0-1743113359998"})}catch(e){}},a=async()=>{try{let e=document.createElement("iframe");e.style.display="none",e.src="/offline.html",document.body.appendChild(e),setTimeout(()=>{try{document.body.removeChild(e)}catch(e){}},5e3)}catch(e){}},i=window.requestIdleCallback||(e=>setTimeout(e,1)),n=setTimeout(()=>{i(async()=>{try{let n=await navigator.serviceWorker.register("/service-worker.js",{scope:"/",updateViaCache:"none"});t(!0);let r=n.waiting||n.active||n.installing;r&&"installing"!==r.state?i(()=>{e(r),a()}):n.addEventListener("updatefound",()=>{n.installing&&n.installing.addEventListener("statechange",()=>{n.active&&i(()=>{e(n.active),a()})})})}catch(e){}})},2e3),r=()=>{"complete"===document.readyState&&window.location.reload()};return navigator.serviceWorker.addEventListener("controllerchange",r),()=>{clearTimeout(n),navigator.serviceWorker.removeEventListener("controllerchange",r)}},[]),(0,i.jsx)(r,{})})}},e=>{var t=t=>e(e.s=t);e.O(0,[20452,68830,72422,30593,99954,67227,77358],()=>t(29576)),_N_E=e.O()}]);