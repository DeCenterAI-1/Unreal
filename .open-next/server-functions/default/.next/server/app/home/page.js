try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="46a16ca0-caff-46b5-8897-fbe76faa7018",e._sentryDebugIdIdentifier="sentry-dbid-46a16ca0-caff-46b5-8897-fbe76faa7018")}catch(e){}(()=>{var e={};e.id=98620,e.ids=[98620],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12412:e=>{"use strict";e.exports=require("assert")},15609:(e,t,r)=>{Promise.resolve().then(r.bind(r,42313))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},31846:(e,t,r)=>{"use strict";let s;r.r(t),r.d(t,{default:()=>p,generateImageMetadata:()=>c,generateMetadata:()=>u,generateViewport:()=>d});var a=r(30019),o=r(63033),i=(0,r(880).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/a0000/projects/unreal/src/app/home/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/a0000/projects/unreal/src/app/home/page.tsx","default");let n={...o},l="workUnitAsyncStorage"in n?n.workUnitAsyncStorage:"requestAsyncStorage"in n?n.requestAsyncStorage:void 0;s="function"==typeof i?new Proxy(i,{apply:(e,t,r)=>{let s,o,i;try{let e=l?.getStore();s=e?.headers.get("sentry-trace")??void 0,o=e?.headers.get("baggage")??void 0,i=e?.headers}catch(e){}return a.wrapServerComponentWithSentry(e,{componentRoute:"/home",componentType:"Page",sentryTraceHeader:s,baggageHeader:o,headers:i}).apply(t,r)}}):i;let u=void 0,c=void 0,d=void 0,p=s},33873:e=>{"use strict";e.exports=require("path")},36686:e=>{"use strict";e.exports=require("diagnostics_channel")},37067:e=>{"use strict";e.exports=require("node:http")},38522:e=>{"use strict";e.exports=require("node:zlib")},40515:(e,t,r)=>{"use strict";r.d(t,{BS:()=>l,K5:()=>i,rt:()=>n});var s=r(98678),a=r(2529),o=r(16709);async function i(e,t=0){let r=(0,s.eO)(t,a.bh),{data:n,error:l}=await e.from("posts").select("*").eq("isPrivate",!1).eq("isDraft",!1).order("createdAt",{ascending:!1}).range(r[0],r[1]);if(l)throw(0,o.vV)("Supabase error fetching posts",l),Error(l.message);return n.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function n(e,t=0){let r=(0,s.eO)(t,20),{data:a,error:i}=await e.from("posts").select("*").eq("isPrivate",!1).eq("isDraft",!1).gt("like_count",0).order("like_count",{ascending:!1}).range(r[0],r[1]);if(i)throw(0,o.vV)("Supabase error fetching top posts",i),Error(i.message);return a.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function l(e,t=0,r){let a=(0,s.eO)(t,20);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,o.vV)("Error fetching user for following posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:i,error:n}=await e.from("follows").select("followee_id").eq("follower_id",r);if(n)throw(0,o.vV)("Error fetching user followings",n),n;let u=i.map(e=>e.followee_id);if(0===u.length)return[];let{data:c,error:d}=await e.from("posts").select("*").in("author",u).eq("isPrivate",!1).eq("isDraft",!1).order("createdAt",{ascending:!1}).range(a[0],a[1]);if(d)throw(0,o.vV)("Supabase error fetching following posts",d),Error(d.message);return c.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}},41204:e=>{"use strict";e.exports=require("string_decoder")},41406:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var s=r(41049),a=r(81546),o=r(6638),i=r(16709);let n=async(e,t)=>{if(!e)return(0,i.FF)("No userId provided. Returning default stats"),{followeeCount:0,followerCount:0};try{let{count:r,error:s}=await t.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",e);if(s)throw(0,i.vV)("Supabase follower count error",s),Error(`Error fetching follower count: ${s.message}`);let{count:a,error:o}=await t.from("follows").select("*",{count:"exact",head:!0}).eq("followee_id",e);if(o)throw(0,i.vV)("Supabase followee count error",o),Error(`Error fetching followee count: ${o.message}`);return{followerCount:r||0,followeeCount:a||0}}catch(e){throw(0,i.vV)("Server error in getFollowStats",e),e}};var l=r(48506),u=r(89435);function c(e){let t=(0,s.useQueryClient)(),r=(0,a.useQuery)({queryKey:["followStats",e],queryFn:async()=>e?(0,l.zO)(`followStats-${e}`,()=>n(e,o.N)):{followeeCount:0,followerCount:0},enabled:!!e,staleTime:6e5,gcTime:18e5}),i=(0,u.useCallback)(r=>{e&&(t.setQueryData(["followStats",e],e=>e?{...e,followeeCount:e.followeeCount+1}:{followeeCount:1,followerCount:0}),r&&t.setQueryData(["followStats",r],e=>e?{...e,followerCount:e.followerCount+1}:{followeeCount:0,followerCount:1}))},[e,t]),c=(0,u.useCallback)(r=>{e&&(t.setQueryData(["followStats",e],e=>e?{...e,followeeCount:Math.max(0,e.followeeCount-1)}:{followeeCount:0,followerCount:0}),r&&t.setQueryData(["followStats",r],e=>e?{...e,followerCount:Math.max(0,e.followerCount-1)}:{followeeCount:0,followerCount:0}))},[e,t]),d=(0,u.useCallback)(()=>{e&&t.invalidateQueries({queryKey:["followStats",e],exact:!0})},[e,t]);return{...r,incrementFolloweeCount:i,decrementFolloweeCount:c,refreshStats:d,followeeCount:r.data?.followeeCount||0,followerCount:r.data?.followerCount||0}}},41692:e=>{"use strict";e.exports=require("node:tls")},42005:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(42434),a=r(89435),o=r(41207);r(79571);let i=function(e){let t=(0,a.useRef)(null),{isLoadingInitial:r,isLoadingMore:i,children:n,loadMore:l,hasNextPage:u}=e;return(0,s.jsxs)("div",{className:"mb-32 w-full",children:[r&&(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full ",children:Array(12).fill(null).map((e,t)=>(0,s.jsx)(o.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))}),!r&&(0,s.jsx)(s.Fragment,{children:n}),(0,s.jsx)("div",{ref:t,id:"obs",children:i&&u&&(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full p-2 ",children:[,,,,].fill(null).map((e,t)=>(0,s.jsx)(o.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))})})]})}},42313:(e,t,r)=>{"use strict";let s;r.r(t),r.d(t,{default:()=>ei});var a=r(42434),o=r(89435),i=r(7492),n=r(46135),l=r(41246);let u=(0,o.memo)(function({text:e}){let t=(0,i.useRouter)(),[r,s]=(0,o.useTransition)();(0,i.useSearchParams)();let u=(0,i.usePathname)(),{activeTab:c,setActiveTab:d}=(0,n.t)(),p=e.toLowerCase(),f=c.toLowerCase()===p,h=(0,o.useCallback)(()=>{f||(d(e.toUpperCase()),s(()=>{t.push(`${u}?s=${p}`)}))},[t,u,p,f,d,e]);return(0,a.jsxs)("div",{className:"relative rounded-full cursor-pointer overflow-hidden",children:[(0,a.jsxs)("button",{onClick:h,className:`rounded-full px-4 py-2 text-sm md:text-base font-medium ${f?"bg-primary-10":"text-primary-6 bg-opacity-0"} flex items-center gap-2`,children:[(()=>{let t=f?"#F0F0F0":"#5D5D5D";switch(e){case"Explore":return(0,a.jsx)(l.fC,{color:t,width:16,height:16});case"Following":return(0,a.jsx)(l.ny,{color:t,width:16,height:16});case"Top":return(0,a.jsx)(l.gX,{color:t,width:16,height:16});case"Search":return(0,a.jsx)(l.WI,{color:t,width:16,height:16});default:return null}})(),e]}),f&&(0,a.jsx)("div",{className:"hidden md:flex  absolute w-[90px] h-[2px] -bottom-[1px] left-0 right-0 mx-auto"})]})});var c=r(89599),d=r(69039);function p({currentIndex:e,index:t,text:r,setCurrentIndex:s,section:o}){return(0,a.jsx)("button",{className:`flex justify-center items-center gap-x-2 py-2 px-4 border-primary-1 ${e===t?"border-b-2":""}`,onClick:()=>s(t),children:(0,a.jsx)("p",{style:{color:e===t?"#DADADA":"#5D5D5D"},children:r})})}function f({currentIndex:e,setCurrentIndex:t,section:r="creation"}){return(0,a.jsxs)("div",{className:"flex gap-x-8 border-b-[1px] border-primary-11",children:[(0,a.jsx)(p,{currentIndex:e,index:0,text:"User",setCurrentIndex:t,section:r}),(0,a.jsx)(p,{currentIndex:e,index:1,text:"Image",setCurrentIndex:t,section:r})]})}var h=r(59056);r(68428);var m=r(2529),x=r(56418),g=r(64393),y=r(68037),v=r(42005),w=r(18466),b=r(75728),j=r(99224),C=r(41049),N=r(59958),F=r(6638),q=r(16709);let A=async(e,t,r=10)=>{if(!e?.trim())return[];let s=Math.max(0,(t-1)*r),{data:a,error:o}=await F.N.from("posts_with_rank").select("*").eq("isPrivate",!1).eq("isDraft",!1).textSearch("prompt",e,{type:"websearch",config:"english"}).order("rank",{ascending:!1}).order("id",{ascending:!1}).range(s,s+(r-1));if(o)throw(0,q.vV)("Supabase post search error",o),Error(o.message);return a.map(e=>({...e,id:e.id??0,prompt:e.prompt??"",author:e.author??"",caption:e.caption??"",category:e.category??"",cpu:e.cpu??0,createdAt:e.createdAt??"",device:e.device??"",rank:e.rank??0,seed:e.seed??0,ipfsImages:(()=>{if(Array.isArray(e.ipfsImages))return e.ipfsImages;if("string"==typeof e.ipfsImages)try{return JSON.parse(e.ipfsImages)}catch{(0,q.FF)("Failed to parse ipfsImages",{ipfsImages:e.ipfsImages})}return null})()}))};var k=r(48506);let S=(e,t=10)=>{let r=(0,C.useQueryClient)(),[s,a]=(0,o.useState)(e);(0,o.useEffect)(()=>{let t=setTimeout(()=>{a(e)},300);return()=>clearTimeout(t)},[e]);let i=(0,o.useMemo)(()=>s.trim().toLowerCase(),[s]),n=(0,N.useInfiniteQuery)({queryKey:["posts","search",i,t],queryFn:async({pageParam:e=1})=>{let r=await A(i,e,t);return r.forEach(e=>{(0,k.jk)("posts",e)}),{data:r??[],nextCursor:r.length===t?e+1:void 0}},initialPageParam:1,getNextPageParam:e=>e?.data.length<t?void 0:e.nextCursor,enabled:i.length>2,staleTime:3e5,gcTime:9e5}),l=(0,o.useCallback)(()=>{if(n.hasNextPage&&!n.isFetchingNextPage){let e=n.data?.pages[n.data.pages.length-1]?.nextCursor;e&&r.prefetchInfiniteQuery({queryKey:["posts","search",i,t],queryFn:({pageParam:r=e})=>A(i,r,t),initialPageParam:e})}},[n.hasNextPage,n.isFetchingNextPage,n.data?.pages,r,i,t]);return{...n,prefetchNextPage:l,debouncedKeyword:i}};var I=r(58312);function P({alt:e="",title:t,sizes:r},{photo:s,width:o,height:i,index:n=0}){let l=n<8,u="object"==typeof s&&null!==s&&"src"in s&&String(s.src).split("/").pop()?.split("?")[0]||`search-img-${n}`;return(0,a.jsx)("div",{style:{width:"100%",position:"relative",aspectRatio:`${o} / ${i}`},children:(0,a.jsx)(I.A,{fill:!0,src:s,alt:e||"Search result",title:t,sizes:r||"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",loading:l?"eager":"lazy",priority:l,placeholder:"blurDataURL"in s?"blur":void 0,trackPerformance:!1,imageName:u})})}function T({searchTerm:e}){let[t,r]=(0,o.useState)(-1),[s,l]=(0,o.useState)(window?.innerWidth<m.ux?2:4),{initFromUrl:u}=(0,n.t)();(0,i.useSearchParams)();let{data:c,isLoading:d,isError:p,error:f,fetchNextPage:x,hasNextPage:g,isFetchingNextPage:b}=S(e,10),j=e=>{r(e.index)};return p?(0,a.jsx)("p",{className:"wrapper",children:"message"in f?f.message:f}):c&&0!==c.pages.length?(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(v.A,{isLoadingInitial:d,isLoadingMore:b,loadMore:()=>g&&x(),hasNextPage:g,children:(0,a.jsx)(h.A,{photos:(0,w.wK)(c?.pages??[]),columns:s,spacing:4,render:{extras:(e,t)=>(0,a.jsx)(_,{context:t,handleImageIndex:j}),image:P}})}),(0,a.jsx)(y.A,{photo:t>-1&&(0,w.wK)(c?.pages??[])[t],setImageIndex:r})]}):(0,a.jsx)("p",{children:"It looks like you haven't saved any books to this shelf yet."})}function _({context:e,handleImageIndex:t}){let r=e.photo.author||"",{data:s,isLoading:o}=(0,b.A)(r),{data:i,isLoading:n}=(0,j.A)(r);return(0,a.jsx)(x.A,{setImageIndex:()=>t(e),context:e,children:(0,a.jsx)("div",{className:"absolute flex items-center gap-1 bottom-2 left-2",children:!o&&!n&&s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-full",children:i?(0,a.jsx)(g.default,{className:"rounded-full border-[1px] border-primary-3 drop-shadow-lg",src:i,width:24,height:24,alt:"profile"}):(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"})}),(0,a.jsx)("p",{className:"font-semibold text-sm drop-shadow-lg",children:s})]})})})}var D=r(92246),E=r(98678),z=r(92049);let R=async(e,t,r=10)=>{if(!e?.trim())return[];let s=Math.max(0,(t-1)*r),{data:a,error:o}=await F.N.from("profiles").select("*, posts:posts(*)").textSearch("search_vector",e,{type:"websearch",config:"english"}).order("createdAt",{ascending:!1}).range(s,s+(r-1));if(o)throw(0,q.vV)("Supabase user search error",o),Error(o.message);return a.map(e=>({id:e.id,full_name:e.full_name||"",username:e.display_name||e.full_name||"",avatar_url:e.avatar_url,createdAt:e.createdAt??"",posts:Array.isArray(e.posts)?e.posts.slice(0,10).map(e=>({...e,createdAt:e.createdAt??"",ipfsImages:(()=>{if(Array.isArray(e.ipfsImages))return e.ipfsImages;if("string"==typeof e.ipfsImages)try{return JSON.parse(e.ipfsImages)}catch{(0,q.FF)("Failed to parse ipfsImages",{ipfsImages:e.ipfsImages})}return null})()})):[]}))},M=(e,t=10)=>(0,N.useInfiniteQuery)({queryKey:["posts",e.trim(),t],queryFn:async({pageParam:r=1})=>{let s=await R(e,r,t);return{data:s??[],nextCursor:s.length===t?r+1:void 0}},initialPageParam:1,getNextPageParam:e=>e?.nextCursor??void 0,enabled:e.trim().length>2,staleTime:3e5});var O=r(41406),$=r(81975),U=r(78877),Q=r(97828),L=r(89381),V=r(55297),K=r.n(V);function W({searchTerm:e}){let{data:t,isLoading:r,isError:s,error:o,fetchNextPage:i,hasNextPage:n,isFetchingNextPage:l}=M(e,10);return(0,a.jsx)("div",{children:t?.pages?.flatMap(e=>e.data.map(e=>a.jsx(G,{data:e,posts:e.posts},e.id)))})}function G({data:e,posts:t}){let{data:r}=(0,O.k)(e.id),{data:s}=(0,$.r)(e.id),{userId:o}=(0,Q.J)(),{data:i,isLoading:n}=(0,U.j)(o,e.id),l=(0,L.T)();return(0,a.jsxs)("div",{className:"bg-primary-11 rounded-t-3xl my-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center h-16 py-4 px-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(K(),{href:`/home/profile/${e.id}`,className:"w-10 h-10 bg-primary-9 rounded-full",children:(0,a.jsx)(g.default,{src:e.avatar_url||"/profile.jpg",width:40,height:40,alt:"profile",className:"rounded-full"})}),(0,a.jsx)(K(),{href:`/home/profile/${e.id}`,className:"text-primary-1 text-lg w-36 font-normal",children:e.username}),o!==e.id&&(0,a.jsx)("button",{disabled:l.isPending,onClick:()=>{l.mutate({followerId:o,followeeId:e.id})},className:`flex items-center justify-center gap-1 rounded-full h-8 w-24 px-2 py-1 border-[1px] border-primary-8
    ${i?"bg-transparent":"bg-primary-10"}`,children:(0,a.jsx)("p",{className:"text-primary-5 text-sm",children:n?"Loading...":i?"Unfollow":"Follow"})})]}),(0,a.jsxs)("div",{className:"flex gap-x-4 my-4",children:[(0,a.jsx)(z.A,{value:r?.followeeCount?.toString()||"0",title:r?.followeeCount===1?"Follower":"Followers"}),(0,a.jsx)(z.A,{value:r?.followerCount?.toString()||"0",title:(r?.followerCount,"Following"),leftBorder:!0}),(0,a.jsx)(z.A,{value:s?.toString()||"0",title:1===s?"Like":"Likes",leftBorder:!0})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto whitespace-nowrap",children:t.map((e,t)=>(0,a.jsx)(H,{post:e},t))})]})}function H({post:e}){return(0,a.jsxs)(K(),{href:`home/photo/${e.id}`,className:"relative inline-block w-[306px] cursor-pointer",children:[(0,a.jsxs)("div",{className:"absolute top-0 flex justify-between text-primary-1 text-sm picture-gradient w-full h-12 items-center px-3",children:[(0,a.jsx)("p",{children:(0,D.f)(e.createdAt)}),(0,a.jsx)("button",{children:(0,a.jsx)(l.Ys,{color:"#FFFFFF"})})]}),(0,a.jsx)(g.default,{src:(0,w.Qp)(e.ipfsImages?.[0].hash,e.ipfsImages?.[0].fileNames?.[0],e.author),width:306,height:408,alt:"generated"}),(0,a.jsx)("p",{className:"absolute bottom-0 left-0 w-full text-left text-primary-1 text-sm picture-gradient h-14 p-3",children:(0,E.EJ)(e.caption||e.prompt,3)})]})}function J(e,t){return e===t}function B(){var e,t,r,s,i;let[n,u]=(0,o.useState)(0),[c,d]=(0,o.useState)(!1),[p,h]=(0,o.useState)(!1),[m,x]=(0,o.useState)(""),[g]=(t=(0,o.useRef)(m),r=(0,o.useState)({})[1],s=function(e,t,r){var s=this,a=(0,o.useRef)(null),i=(0,o.useRef)(0),n=(0,o.useRef)(null),l=(0,o.useRef)([]),u=(0,o.useRef)(),c=(0,o.useRef)(),d=(0,o.useRef)(e),p=(0,o.useRef)(!0);d.current=e;var f="undefined"!=typeof window,h=!t&&0!==t&&f;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var m=!!(r=r||{}).leading,x=!("trailing"in r)||!!r.trailing,g="maxWait"in r,y="debounceOnServer"in r&&!!r.debounceOnServer,v=g?Math.max(+r.maxWait||0,t):null;return(0,o.useEffect)(function(){return p.current=!0,function(){p.current=!1}},[]),(0,o.useMemo)(function(){var e=function(e){var t=l.current,r=u.current;return l.current=u.current=null,i.current=e,c.current=d.current.apply(r,t)},r=function(e,t){h&&cancelAnimationFrame(n.current),n.current=h?requestAnimationFrame(e):setTimeout(e,t)},o=function(e){if(!p.current)return!1;var r=e-a.current;return!a.current||r>=t||r<0||g&&e-i.current>=v},w=function(t){return n.current=null,x&&l.current?e(t):(l.current=u.current=null,c.current)},b=function e(){var s=Date.now();if(o(s))return w(s);if(p.current){var n=t-(s-a.current);r(e,g?Math.min(n,v-(s-i.current)):n)}},j=function(){if(f||y){var d=Date.now(),h=o(d);if(l.current=[].slice.call(arguments),u.current=s,a.current=d,h){if(!n.current&&p.current)return i.current=a.current,r(b,t),m?e(a.current):c.current;if(g)return r(b,t),e(a.current)}return n.current||r(b,t),c.current}};return j.cancel=function(){n.current&&(h?cancelAnimationFrame(n.current):clearTimeout(n.current)),i.current=0,l.current=a.current=u.current=n.current=null},j.isPending=function(){return!!n.current},j.flush=function(){return n.current?w(Date.now()):c.current},j},[m,g,t,v,x,h,f,y])}((0,o.useCallback)(function(e){t.current=e,r({})},[r]),500,e),J((i=(0,o.useRef)(m)).current,m)||(s(m),i.current=m),[t.current,s]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:`flex gap-x-1 h-9 w-10 items-center justify-center rounded-full ${p?"bg-primary-10":""}`,onClick:()=>d(!0),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:(0,a.jsx)(l.WI,{width:16,height:16,color:p?"#8F8F8F":"#5D5D5D"})}),c&&(0,a.jsxs)("div",{className:"fixed z-50  top-0  h-full w-screen bg-gray-950/50",children:[(0,a.jsx)("div",{onClick:()=>d(!1),className:"m-auto z-50  top-0 left-0 h-screen w-screen bg-gray-950/50"}),(0,a.jsxs)("div",{className:"absolute w-full max-w-[1034px] h-[90vh] z-50 top-2 md:top-[5vh] left-0 md:left-60 border-primary-8 border-[1px] bg-primary-12 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-primary-3",children:[(0,a.jsx)("p",{className:"nasalization text-2xl",children:"Search for Anything Imaginable"}),(0,a.jsx)("div",{className:"cursor-pointer",onClick:()=>d(!1),children:(0,a.jsx)(l.US,{width:24,height:24,color:"#C1C1C1"})})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"relative h-14 w-full my-3 rounded-xl bg-primary-10",children:[(0,a.jsx)("button",{className:"absolute top-[18px] left-3 z-10",children:(0,a.jsx)(l.WI,{width:20,height:20,color:"#8F8F8F"})}),(0,a.jsx)("input",{type:"text",placeholder:"Search for anything imaginable",value:m,onChange:e=>x(e.target.value),className:"absolute text-primary-2 placeholder:text-primary-2 bg-inherit left-0 top-0 w-full h-14 px-10 rounded-lg border-[1px] border-primary-11 border-none focus:outline-none focus:ring-0"})]})}),(0,a.jsx)("div",{className:"my-2",children:(0,a.jsx)(f,{currentIndex:n,setCurrentIndex:u})}),(0,a.jsxs)("div",{className:"overflow-y-auto h-[70vh]",children:[0===n&&(0,a.jsx)(W,{searchTerm:g}),1===n&&(0,a.jsx)(T,{searchTerm:g})]})]})]})]})}var Z=r(41207),X=r(46995),Y=r(72603);r(40515);var ee=r(19965);let et={...r(63033)},er="workUnitAsyncStorage"in et?et.workUnitAsyncStorage:"requestAsyncStorage"in et?et.requestAsyncStorage:void 0,es=new Proxy(function(){return(0,a.jsx)("div",{className:"h-screen w-screen top-0  left-0 fixed z-50 flex items-center justify-center ",children:(0,a.jsx)(g.default,{src:"/Icon-White.png",alt:"unreal",height:50,width:50,priority:!0})})},{apply:(e,t,r)=>{let s,a,o;try{let e=er?.getStore();s=e?.headers.get("sentry-trace")??void 0,a=e?.headers.get("baggage")??void 0,o=e?.headers}catch(e){}return ee.wrapServerComponentWithSentry(e,{componentRoute:"/home",componentType:"Loading",sentryTraceHeader:s,baggageHeader:a,headers:o}).apply(t,r)}});function ea({children:e,searchType:t}){let[r,s]=(0,o.useState)(!1),i=(0,C.useQueryClient)();return r?(0,a.jsx)(X.HydrationBoundary,{state:(0,Y.hw)(i),children:e}):(0,a.jsx)(es,{})}let eo=(0,d.default)(()=>r.e(74432).then(r.bind(r,74432)),{loadableGenerated:{modules:["app/home/page.tsx -> ./components/photoGallary"]},ssr:!0,loading:()=>(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full ",children:Array(12).fill(null).map((e,t)=>(0,a.jsx)(Z.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))})});function ei(){let e=(0,i.useSearchParams)(),t=e?.get("s")||"";return(0,a.jsx)(ea,{searchType:t,children:(0,a.jsxs)("div",{className:"relative flex flex-col items-center background-color-primary-1 px-1 md:px-10 w-full",children:[(0,a.jsx)("div",{className:"hidden md:flex flex-col justify-center items-center pt-5 w-full",children:(0,a.jsx)(c.default,{})}),(0,a.jsxs)("div",{className:"flex gap-x-2 items-center w-full h-10 mt-3 md:mt-0 mb-2 relative",children:[(0,a.jsx)(B,{}),(0,a.jsx)(u,{text:"Explore"}),(0,a.jsx)(u,{text:"Following"}),(0,a.jsx)(u,{text:"Top"})]}),(0,a.jsx)("div",{className:"overflow-y-auto w-full",children:(0,a.jsx)(eo,{})})]})})}},44708:e=>{"use strict";e.exports=require("node:https")},46135:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});let s=(0,r(55173).v)(e=>({activeTab:"EXPLORE",isTabTransitioning:!1,previousTab:null,setActiveTab:t=>e(e=>{let r=e.activeTab!==t;return{activeTab:t,isTabTransitioning:r,previousTab:r?e.activeTab:e.previousTab}}),setIsTabTransitioning:t=>e({isTabTransitioning:t}),initFromUrl:t=>{if(!t)return;let r=t.toUpperCase();["EXPLORE","FOLLOWING","TOP","SEARCH"].includes(r)&&e(e=>({previousTab:e.activeTab!==r?e.activeTab:e.previousTab,activeTab:r,isTabTransitioning:!1}))}}))},46995:(e,t,r)=>{"use strict";r.d(t,{HydrationBoundary:()=>n});var s=r(89435),a=r(72603),o=r(41049),i=(e,t)=>"object"==typeof e&&null!==e&&t in e,n=({children:e,options:t={},state:r,queryClient:n})=>{let l=(0,o.useQueryClient)(n),[u,c]=s.useState(),d=s.useRef(t);return d.current=t,s.useMemo(()=>{if(r){if("object"!=typeof r)return;let e=l.getQueryCache(),t=r.queries||[],s=[],o=[];for(let r of t){let t=e.get(r.queryHash);if(t){let e=r.state.dataUpdatedAt>t.state.dataUpdatedAt||i(r.promise,"status")&&i(t.promise,"status")&&r.promise.status!==t.promise.status,s=u?.find(e=>e.queryHash===r.queryHash);e&&(!s||r.state.dataUpdatedAt>s.state.dataUpdatedAt)&&o.push(r)}else s.push(r)}s.length>0&&(0,a.Qv)(l,{queries:s},d.current),o.length>0&&c(e=>e?[...e,...o]:o)}},[l,u,r]),s.useEffect(()=>{u&&((0,a.Qv)(l,{queries:u},d.current),c(void 0))},[l,u]),e}},48161:e=>{"use strict";e.exports=require("node:os")},48171:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.default,__next_app__:()=>c,pages:()=>u,routeModule:()=>d,tree:()=>l});var s=r(36604),a=r(18659),o=r(51683),i=r(47508),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let l={children:["",{children:["home",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,31846)),"/Users/a0000/projects/unreal/src/app/home/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,61281)),"/Users/a0000/projects/unreal/src/app/home/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,21887)),"/Users/a0000/projects/unreal/src/app/home/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,42834))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71569)),"/Users/a0000/projects/unreal/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,51683)),"/Users/a0000/projects/unreal/src/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,3611)),"/Users/a0000/projects/unreal/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,836,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,33893,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,42834))).default(e)],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]}.children,u=["/Users/a0000/projects/unreal/src/app/home/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},d=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/home/page",pathname:"/home",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56418:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var s=r(42434),a=r(89435),o=r(41246),i=r(98678),n=r(40955),l=r(6638),u=r(42582),c=r(97828),d=r(92246),p=r(6691),f=r(56661),h=r(7492),m=r(55297),x=r.n(m);function g({hideContent:e,children:t,setImageIndex:r,context:m,photo:g,section:y}){let v=(0,h.useRouter)(),[w,b]=(0,a.useState)(!1),{userId:j}=(0,c.J)(),{likes:C,likesCount:N,isLoading:F,hasUserLiked:q}=(0,n.G)(Number(m.photo.id),l.N),{mutate:A}=(0,u.$)(Number(m.photo.id),j,m.photo.author),k=C?.some(e=>e.author===j),S=()=>{r()},{data:I,isLoading:P}=(0,p._9)(m.photo.id);(0,p.nU)(m.photo.id);let T=()=>{v.push("/home/photo/"+m.photo.id)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),className:"absolute top-0 left-0 w-full h-full flex flex-col text-primary-1 text-sm md:hover:bg-gray-900/50",children:[w&&(0,s.jsxs)("div",{className:"relative hidden md:flex flex-col text-primary-1 justify-between px-4 py-3 h-full",children:[(0,s.jsxs)("div",{onClick:T,className:"absolute top-0 left-0 w-full h-full",children:[" ",g," "]}),(0,s.jsx)("div",{onClick:T,className:"absolute top-0 left-0 w-full h-full cursor-pointer"}),e?(0,s.jsx)("div",{children:" "}):(0,s.jsxs)("div",{className:"flex justify-between text-primary-1 text-sm z-20",children:[(0,s.jsx)("p",{children:(0,d.f)(m.photo.createdAt)}),(0,s.jsx)(f.A,{image:m.photo,postId:m.photo.id,children:(0,s.jsx)(o.Ys,{color:"#FFFFFF"})})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4 z-10",children:[(0,s.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>A(),children:[k?(0,s.jsx)(o.zw,{color:"#FFFFFF"}):(0,s.jsx)(o.C3,{color:"#FFFFFF"}),(0,s.jsx)("p",{children:C?(0,i.ZV)(C?.length):""})]}),(0,s.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>S(),children:[(0,s.jsx)(o.oy,{color:"#FFFFFF"})," ",(0,s.jsx)("p",{children:I?(0,i.ZV)(I?.length):""})]})]}),e?(0,s.jsx)("p",{}):(0,s.jsxs)(x(),{href:`/home/photo/${m.photo.id}`,children:[" ",(0,s.jsx)("p",{className:"text-left text-primary-1 text-sm z-10",children:(0,i.EJ)(m.photo.caption||m.photo.prompt)})]})]}),(0,s.jsxs)("div",{className:"flex flex-col md:hidden h-full w-full justify-between items-end p-3",children:[(0,s.jsx)("div",{className:"relative block mr-4",children:(0,s.jsx)("div",{className:"absolute",children:(0,s.jsx)("div",{className:"absolute z-20",children:(0,s.jsx)(f.A,{image:m.photo,postId:m.photo.id,children:(0,s.jsx)(o.Ys,{color:"#FFFFFF"})})})})}),(0,s.jsxs)("div",{className:`flex flex-col ${"photoGridTwo"==y?" mb-12":"mb-6"}`,children:[(0,s.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,s.jsx)("button",{className:"absolute flex flex-col items-center z-10",onClick:()=>A(),children:k?(0,s.jsx)(o.zw,{color:"#FFFFFF"}):(0,s.jsx)(o.C3,{color:"#FFFFFF"})}),(0,s.jsx)("p",{className:"mt-6 z-10",children:C?(0,i.ZV)(C?.length):""})]}),(0,s.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,s.jsx)("button",{className:"absolute flex gap-1 items-center z-10",onClick:S,children:(0,s.jsx)(o.oy,{color:"#FFFFFF"})}),(0,s.jsx)("p",{className:"mt-6 z-10",children:I?(0,i.ZV)(I?.length):""})]})]})]}),(0,s.jsxs)("div",{onClick:T,className:"absolute hidden md:block w-full h-full",children:[!w&&t," "]}),(0,s.jsxs)("div",{onClick:T,className:"absolute  md:hidden w-full h-full",children:[t," "]})]})})}},57012:e=>{"use strict";e.exports=require("tls")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},59056:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var s=r(42434),a=r(89435);function o(e,[t,r]){let[s,a]=e;return void 0!==s&&void 0!==a&&void 0!==t&&void 0!==r&&t>s&&t-s<=20&&r<a?[s,r]:s!==t||a!==r?[t,r]:e}function i(e){return["react-photo-album",e].filter(Boolean).join("--")}let n=Object.freeze([1200,600,300,0]);function l(e,t){return"function"==typeof e?e(t):e}function u(e,t,r,s=0){if(void 0===t)return;let a=void 0!==t?l(e,t):void 0;return Math.round(Math.max(void 0===a?l(r[Math.max(n.findIndex(e=>e<=t),0)],t):a,s))}function c(e,t=0){let r=10**t;return Math.round((e+Number.EPSILON)*r)/r}let d=(0,a.forwardRef)(function({as:e,render:t,context:r,classes:a=[],variables:o={},style:n,className:l,children:u,...d},p){let f=function(...e){return[...e].filter(Boolean).join(" ")}(...(Array.isArray(a)?a:[a]).filter(e=>"string"==typeof e).map(i),l),h={style:{...Object.fromEntries(Object.entries(o).map(([e,t])=>{var r;return[(r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),`--${i(r)}`),"number"==typeof t?c(t,5):t]})),...n},className:f,children:u,...d};if(t){let e=t({ref:p,...h},r);if(e)return e}return(0,s.jsx)(e||"div",{ref:p,...h})}),p=(0,a.forwardRef)(function({photo:e,index:t,width:r,height:a,onClick:o,render:{wrapper:i,link:n,button:l,image:u,extras:p}={},componentsProps:{link:f,button:h,wrapper:m,image:x}={}},g){let y;let{href:v}=e,w={photo:e,index:t,width:c(r,3),height:c(a,3)};return y=v?{...f,as:"a",render:n,classes:["photo","link"],href:v,onClick:o}:o?{...h,as:"button",type:"button",render:l,classes:["photo","button"],onClick:o}:{...m,render:i,classes:"photo"},(0,s.jsxs)(d,{ref:g,variables:{photoWidth:w.width,photoHeight:w.height},...{context:w,...y},children:[(0,s.jsx)(d,{as:"img",classes:"image",render:u,context:w,...x}),p?.({},w)]})}),f=(0,a.forwardRef)(function({layout:e,sizes:t,model:r,skeleton:o,onClick:i,render:{container:n,track:u,photo:f,...h}={},componentsProps:{container:m,track:x,link:g,button:y,wrapper:v,image:w}={}},b){let{spacing:j,padding:C,containerWidth:N,tracks:F,variables:q,horizontal:A}=r||{};return(0,s.jsxs)(d,{role:"group","aria-label":"Photo album",...m,variables:{spacing:j,padding:C,containerWidth:N,...q},classes:["",e],render:n,ref:b,children:[void 0!==j&&void 0!==C&&void 0!==N&&F?.map(({photos:e,variables:r},o)=>{let n=e.length,m=A?n:F.length;return a.createElement(d,{...x,key:o,render:u,classes:"track",variables:{trackSize:n,...r}},e.map(e=>{let{photo:r,index:a,width:o}=e,{key:n,src:u,alt:d,title:x,label:b}=r,F=i?e=>{i({event:e,photo:r,index:a})}:void 0;if(f){let t=f({onClick:F},e);if(t)return t}let q=e=>b?{"aria-label":b,...e}:e;return s.jsx(p,{onClick:F,render:h,componentsProps:{image:{loading:"lazy",decoding:"async",src:u,alt:d,title:x,...function(e,t,r,s,a,o,i){let n,l;let u=e=>{let t=o*(a-1)+2*i*a;return`calc((${e.match(/^\s*calc\((.*)\)\s*$/)?.[1]??e} - ${t}px) / ${c((s-t)/r,5)})`},d=e.srcSet;return d&&d.length>0&&(n=d.concat(d.some(({width:t})=>t===e.width)?[]:[{src:e.src,width:e.width,height:e.height}]).sort((e,t)=>e.width-t.width).map(e=>`${e.src} ${e.width}w`).join(", ")),{srcSet:n,sizes:t?.size?(t.sizes||[]).map(({viewport:e,size:t})=>`${e} ${u(t)}`).concat(u(t.size)).join(", "):`${Math.ceil(r/s*100)}vw`}}(r,t,o,N,m,j,C),...l(w,e)},link:q(l(g,e)),button:q(l(y,e)),wrapper:l(v,e)},...e},n??u)}))}),void 0===N&&o]})}),h=(0,a.forwardRef)(function({photos:e,breakpoints:t,defaultContainerWidth:r,...i},n){let{containerRef:c,containerWidth:d}=function(e,t,r){let[[s],i]=(0,a.useReducer)(o,[r]),n=function(e){let t=(0,a.useRef)(e);return(!e||!t.current||e.length!==t.current.length||t.current.some((t,r)=>t!==e[r]))&&(t.current=e),t.current}(t),l=(0,a.useRef)();return{containerRef:(0,a.useCallback)(t=>{l.current?.disconnect(),l.current=void 0;let r=()=>i([function(e,t){let r=e?.clientWidth;if(void 0!==r&&t&&t.length>0){let e=[...t.filter(e=>e>0)].sort((e,t)=>t-e);e.push(Math.floor(e[e.length-1]/2)),r=e.find((t,s)=>t<=r||s===e.length-1)}return r}(t,n),window.innerWidth-document.documentElement.clientWidth]);r(),t&&"undefined"!=typeof ResizeObserver&&(l.current=new ResizeObserver(r),l.current.observe(t)),"function"==typeof e?e(t):e&&(e.current=t)},[e,n]),containerWidth:s}}(n,t,r),{spacing:p,padding:h,columns:m,...x}=function(e,{columns:t,...r}){return{...r,...function(e,{spacing:t,padding:r,componentsProps:s,render:a}){return{spacing:u(t,e,[20,15,10,5]),padding:u(r,e,[0,0,0,0]),componentsProps:l(s,e)||{},render:l(a,e)}}(e,r),columns:u(t,e,[5,4,3,2],1)}}(d,{photos:e,...i}),g=(0,a.useMemo)(()=>void 0!==d&&void 0!==p&&void 0!==h&&void 0!==m?function e(t,r,s,a,o){let i=(a-r*(o-1)-2*s*o)/o;if(i<=0)return o>1?e(t,r,s,a,o-1):void 0;let n=[];for(let e=0;e<o;e+=1)n[e]=0;let l=t.reduce((e,t,a)=>{let o=n.reduce((e,t,r)=>t<n[e]-1?r:e,0);return n[o]=n[o]+i/function({width:e,height:t}){return e/t}(t)+r+2*s,e[o].push({photo:t,index:a}),e},Array.from({length:o},()=>[]));return{spacing:r,padding:s,containerWidth:a,variables:{columns:o},tracks:l.map(e=>({photos:e.map(({photo:e,index:t})=>({photo:e,index:t,width:i,height:i/function({width:e,height:t}){return e/t}(e)}))}))}}(e,p,h,d,m):void 0,[e,p,h,d,m]);return(0,s.jsx)(f,{layout:"masonry",ref:c,model:g,...x})})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68428:()=>{},72603:(e,t,r)=>{"use strict";function s(e){return e}function a(e){return e.state.isPaused}function o(e){return"success"===e.state.status}function i(e){return!0}function n(e,t={}){let r=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??a,l=e.getMutationCache().getAll().flatMap(e=>r(e)?[{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}]:[]),u=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??o,c=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??i,d=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??s;return{mutations:l,queries:e.getQueryCache().getAll().flatMap(e=>u(e)?[{state:{...e.state,...void 0!==e.state.data&&{data:d(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,..."pending"===e.state.status&&{promise:e.promise?.then(d).catch(e=>c(e)?Promise.reject(Error("redacted")):Promise.reject(e))},...e.meta&&{meta:e.meta}}]:[])}}function l(e,t,r){if("object"!=typeof t||null===t)return;let a=e.getMutationCache(),o=e.getQueryCache(),i=r?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??s,n=t.mutations||[],l=t.queries||[];n.forEach(({state:t,...s})=>{a.build(e,{...e.getDefaultOptions().hydrate?.mutations,...r?.defaultOptions?.mutations,...s},t)}),l.forEach(({queryKey:t,state:s,queryHash:a,meta:n,promise:l})=>{let u=o.get(a),c=void 0===s.data?s.data:i(s.data);if(u){if(u.state.dataUpdatedAt<s.dataUpdatedAt){let{fetchStatus:e,...t}=s;u.setState({...t,data:c})}}else u=o.build(e,{...e.getDefaultOptions().hydrate?.queries,...r?.defaultOptions?.queries,queryKey:t,queryHash:a,meta:n},{...s,data:c,fetchStatus:"idle"});if(l){let e=Promise.resolve(l).then(i);u.fetch(void 0,{initialPromise:e})}})}r.d(t,{Qv:()=>l,hw:()=>n})},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},79161:(e,t,r)=>{Promise.resolve().then(r.bind(r,31846))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80481:e=>{"use strict";e.exports=require("node:readline")},81630:e=>{"use strict";e.exports=require("http")},81975:(e,t,r)=>{"use strict";r.d(t,{r:()=>c});var s=r(41049),a=r(81546),o=r(6638),i=r(16709);let n=async(e,t)=>{if(!e)return 0;try{let{count:r,error:s}=await t.from("likes").select("*",{count:"exact"}).eq("post_author",e);if(s)return(0,i.vV)("Error fetching like count",s),0;return r||0}catch(e){return(0,i.vV)("Unexpected error",e),0}};var l=r(48506),u=r(89435);let c=e=>{let t=(0,s.useQueryClient)(),r=(0,a.useQuery)({queryKey:["likeStat",e],queryFn:async()=>e?(0,l.zO)(`likeStat-${e}`,()=>n(e,o.N)):0,enabled:!!e,staleTime:6e5,gcTime:18e5}),i=(0,u.useCallback)(()=>{e&&t.setQueryData(["likeStat",e],e=>(e||0)+1)},[e,t]),c=(0,u.useCallback)(()=>{e&&t.setQueryData(["likeStat",e],e=>Math.max(0,(e||0)-1))},[e,t]),d=(0,u.useCallback)(()=>{e&&t.invalidateQueries({queryKey:["likeStat",e],exact:!0})},[e,t]);return{...r,incrementLikeStat:i,decrementLikeStat:c,refreshLikeStat:d,likeCount:r.data||0}}},83997:e=>{"use strict";e.exports=require("tty")},84297:e=>{"use strict";e.exports=require("async_hooks")},86592:e=>{"use strict";e.exports=require("node:inspector")},91645:e=>{"use strict";e.exports=require("net")},92049:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(42434);function a({value:e,title:t,leftBorder:r}){return(0,s.jsxs)("div",{className:`flex flex-col md:flex-row md:items-center gap-2 border-primary-6 px-5 ${r&&"border-l-[1px]"}`,children:[(0,s.jsx)("p",{className:"text-xl text-primary-5",children:e}),(0,s.jsx)("p",{className:"text-primary-6",children:t})]})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[97015,30019,56445,49008,14464,69717,17924,94642,53842,46708,82955],()=>r(48171));module.exports=s})();
//# sourceMappingURL=page.js.map