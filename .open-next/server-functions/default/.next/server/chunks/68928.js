try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f0ed95bf-2a56-403c-a3b2-57bf27bff346",e._sentryDebugIdIdentifier="sentry-dbid-f0ed95bf-2a56-403c-a3b2-57bf27bff346")}catch(e){}"use strict";exports.id=68928,exports.ids=[68928],exports.modules={2492:(e,t,r)=>{r.d(t,{A:()=>x});var s=r(42434),i=r(89435),a=r(64393),l=r(98678),o=r(92246),n=r(41246),c=r(31531);function d({title:e,content:t,subContent:r}){return(0,s.jsx)("div",{className:"w-full h-full",children:(0,s.jsx)("div",{className:"flex justify-center items-center w-full h-[60vh]",children:(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)(c.A,{text:e,color:"#5D5D5D",width:"200px",height:"200px"}),(0,s.jsx)("p",{children:t}),(0,s.jsx)("p",{children:r})]})})})}var u=r(42005),f=r(69039),h=r(56418);r(79571),r(18466);let p={LG:320},m=(0,f.default)(async()=>{},{loadableGenerated:{modules:["app/home/creations/components/PhotoGridTwo.tsx -> ../../components/imageView"]},ssr:!1,loading:()=>null});function x({title:e,content:t,subContent:r,data:c,isLoading:f=!1,hasNextPage:x=!1,fetchNextPage:g=()=>{},isFetchingNextPage:b=!1}){(0,i.useRef)(null);let[j,v]=(0,i.useState)([]),[y,w]=(0,i.useState)([]),[F,I]=(0,i.useState)(!0),[N,A]=(0,i.useState)(-1),[E,S]=(0,i.useState)(p.LG),C=(0,i.useCallback)(e=>{A(e.index)},[]),D=(0,i.useCallback)(()=>{x&&g()},[x,g]);return j.length||f||F||!c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{isLoadingInitial:f||F,isLoadingMore:b,loadMore:D,hasNextPage:x,children:(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-2 place-items-center",children:j.map((e,t)=>{let r={index:t,photo:e,width:e.width,height:e.height};return(0,s.jsx)("div",{style:{width:E,height:E},className:"relative grid-cols-1",children:(0,s.jsx)(h.A,{setImageIndex:()=>C(r),context:r,photo:(0,s.jsx)(a.default,{src:e.src,fill:!0,alt:String(e.alt),priority:t<8,className:"object-cover",loading:t<8?"eager":"lazy",sizes:"(min-width: 1536px) 380px, (min-width: 1024px) 320px, (min-width: 768px) 320px, 300px"}),section:"photoGridTwo",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"absolute top-0 flex justify-between text-primary-1 text-sm picture-gradient w-full h-12 items-center px-3",children:[(0,s.jsx)("p",{children:(0,o.f)(r.photo.createdAt)}),(0,s.jsx)("button",{children:(0,s.jsx)(n.Ys,{color:"#FFFFFF"})})]}),(0,s.jsx)(a.default,{src:e.src,fill:!0,alt:String(e.alt),priority:t<8,className:"object-cover",loading:t<8?"eager":"lazy",sizes:"(min-width: 1536px) 380px, (min-width: 1024px) 320px, (min-width: 768px) 320px, 300px"}),(0,s.jsx)("p",{className:"absolute bottom-0 left-0 w-full text-left text-primary-1 text-sm picture-gradient h-14 p-3",children:(0,l.EJ)(r.photo.caption||r.photo.prompt)})]})})},e.id)})})}),N>-1&&(0,s.jsx)(m,{photo:j[N],setImageIndex:A})]}):(0,s.jsx)(d,{title:e,content:t,subContent:r})}},11151:(e,t,r)=>{r.d(t,{qT:()=>i,eO:()=>a});var s=r(51988);let i=()=>{let e=s.u.createRandom();return{address:e.address,privateKey:e.privateKey,publicKey:e.publicKey}};function a(e,t){let r=e*t;return[r,r+t-1]}(0,r(75351).N)({clientId:"16d7dafb3864c65ca59908546b05004c"}),r(53767)},16236:(e,t,r)=>{r.d(t,{U:()=>a});var s=r(77156),i=r(38152);async function a(){let e=await (0,i.UL)();return(0,s.createServerClient)("https://ayghfeluaxotpfyuezlw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF5Z2hmZWx1YXhvdHBmeXVlemx3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM0MzMyNDAsImV4cCI6MjA0OTAwOTI0MH0.YvtVbvd41lXv0bvqUVMrYqexn3Eq7gXt3Dz87CzIm6c",{cookies:{getAll:()=>e.getAll(),setAll(t){try{t.forEach(({name:t,value:r,options:s})=>e.set(t,r,s))}catch{}}},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})}},17669:(e,t,r)=>{r.d(t,{A:()=>d});var s=r(42434),i=r(89435),a=r(31531),l=r(7492),o=r(82894),n=r(31928);let c=[{text:"Public",index:0},{text:"Private",index:1},{text:"Liked",index:2},{text:"Pinned",index:3},{text:"Draft",index:4}];function d({hideDraft:e,currentIndex:t,setCurrentIndex:r,section:a}){let{creationTab:d,profileTab:f,initFromUrl:h}=(0,o.g)();(0,l.useSearchParams)();let p=(0,i.useMemo)(()=>c.filter(t=>!(e&&"Draft"===t.text)),[e]);return(0,s.jsx)(n.P.div,{className:"flex gap-x-8 border-b-[1px] border-primary-11 overflow-x-auto",initial:{opacity:.95},animate:{opacity:1},transition:{duration:.2},children:p.map(({text:e,index:i})=>(0,s.jsx)(u,{currentIndex:t,index:i,text:e,setCurrentIndex:r,section:a},e))})}function u({index:e,currentIndex:t,text:r,setCurrentIndex:c,section:d}){let u=(0,l.usePathname)(),f=(0,l.useRouter)(),h=(0,l.useSearchParams)(),[p,m]=(0,i.useTransition)(),{setCreationTab:x,setProfileTab:g}=(0,o.g)(),b=t===e,j=(0,i.useMemo)(()=>b?"#DADADA":"#5D5D5D",[b]),v=(0,i.useCallback)(e=>{let t=new URLSearchParams(h.toString());return t.set("s",e.toLowerCase()),`${u}?${t.toString()}`},[u,h]),y=(0,i.useCallback)(()=>{b||(c(e),"creation"===d?x(r):"profile"===d&&g(r),m(()=>{f.replace(v(r),{scroll:!1})}))},[e,c,r,d,x,g,u,f,b,v]);return(0,s.jsxs)(n.P.button,{className:`flex justify-center items-center gap-x-2 py-2 px-4 border-primary-1 ${t===e?"border-b-2":""}`,onClick:y,whileTap:{scale:.98},transition:{duration:.1},disabled:p,children:[(0,s.jsx)("p",{style:{color:j},children:r}),(0,s.jsx)("div",{children:(0,s.jsx)(a.A,{text:r,width:"24px",height:"24px",color:j})})]})}},31531:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(42434),i=r(41246);function a({text:e,color:t,height:r,width:a}){switch(e){case"Public":return(0,s.jsx)(i.fC,{height:r,width:a,color:t});case"Private":return(0,s.jsx)(i.gC,{height:r,width:a,color:t});case"Liked":return(0,s.jsx)(i.C3,{height:r,width:a,color:t});case"Pinned":return(0,s.jsx)(i.ts,{height:r,width:a,color:t});case"Draft":return(0,s.jsx)(i.tM,{height:r,width:a,color:t});case"User":return(0,s.jsx)(i.ny,{height:r,width:a,color:t});case"Image":return(0,s.jsx)(i._T,{height:r,width:a,color:t})}}},42005:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(42434),i=r(89435),a=r(41207);r(79571);let l=function(e){let t=(0,i.useRef)(null),{isLoadingInitial:r,isLoadingMore:l,children:o,loadMore:n,hasNextPage:c}=e;return(0,s.jsxs)("div",{className:"mb-32 w-full",children:[r&&(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full ",children:Array(12).fill(null).map((e,t)=>(0,s.jsx)(a.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))}),!r&&(0,s.jsx)(s.Fragment,{children:o}),(0,s.jsx)("div",{ref:t,id:"obs",children:l&&c&&(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2  w-full p-2 ",children:[,,,,].fill(null).map((e,t)=>(0,s.jsx)(a.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))})})]})}},53767:(e,t,r)=>{r.d(t,{FF:()=>u,Lk:()=>f,vV:()=>d});var s=r(30019);let i={},a=e=>{if(null==e)return"";if("string"==typeof e)return e.substring(0,5e3);try{let t=JSON.stringify(e);return t.length>5e3?t.substring(0,5e3)+"...[truncated]":t}catch(e){return"[Object cannot be serialized]"}},l=()=>{let e=Date.now(),t=Object.keys(i);t.length>100&&t.map(e=>i[e]&&"number"==typeof i[e].timestamp?{key:e,time:i[e].timestamp}:{key:e,time:0}).sort((e,t)=>e.time-t.time).slice(0,t.length-50).map(e=>e.key).forEach(e=>delete i[e]),t.forEach(t=>{i[t]&&"number"==typeof i[t].timestamp&&e-i[t].timestamp>5e4?delete i[t]:i[t]&&"number"==typeof i[t].timestamp||delete i[t]})},o=e=>{let t=Date.now();if(i[e]){let{timestamp:r,count:s}=i[e];if(t-r<5e3)return i[e].count++,!0;i[e].timestamp=t,i[e].count++}else i[e]={timestamp:t,count:1},Object.keys(i).length>100&&l();return!1},n=(e,t)=>{let r=e instanceof Error?e.message:String(e);if(o(`error:${r.substring(0,100)}`))return;let i=t?Object.fromEntries(Object.entries(t).map(([e,t])=>[e,a(t)])):void 0;e instanceof Error?s.captureException(e,{extra:i}):s.captureException(Error(String(e)),{extra:i})},c=(e,t="info",r)=>{if("info"===t)return;let i=e.substring(0,200);if(o(`${t}:${i}`))return;let l=r?Object.fromEntries(Object.entries(r).map(([e,t])=>[e,a(t)])):void 0;s.captureMessage(i,{level:t,extra:l})},d=(e,t)=>{let r=t instanceof Error?t.message:String(t);o(`error:${e}:${r.substring(0,50)}`)||(t?n(t,{message:e}):c(e,"error"))},u=(e,t)=>{o(`warning:${e}`)||c(e,"warning")},f=(e,t,r)=>()=>{}},56418:(e,t,r)=>{r.d(t,{A:()=>g});var s=r(42434),i=r(89435),a=r(41246),l=r(98678),o=r(40955),n=r(6638),c=r(42582),d=r(97828),u=r(92246),f=r(6691),h=r(56661),p=r(7492),m=r(55297),x=r.n(m);function g({hideContent:e,children:t,setImageIndex:r,context:m,photo:g,section:b}){let j=(0,p.useRouter)(),[v,y]=(0,i.useState)(!1),{userId:w}=(0,d.J)(),{likes:F,likesCount:I,isLoading:N,hasUserLiked:A}=(0,o.G)(Number(m.photo.id),n.N),{mutate:E}=(0,c.$)(Number(m.photo.id),w,m.photo.author),S=F?.some(e=>e.author===w),C=()=>{r()},{data:D,isLoading:k}=(0,f._9)(m.photo.id);(0,f.nU)(m.photo.id);let O=()=>{j.push("/home/photo/"+m.photo.id)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),className:"absolute top-0 left-0 w-full h-full flex flex-col text-primary-1 text-sm md:hover:bg-gray-900/50",children:[v&&(0,s.jsxs)("div",{className:"relative hidden md:flex flex-col text-primary-1 justify-between px-4 py-3 h-full",children:[(0,s.jsxs)("div",{onClick:O,className:"absolute top-0 left-0 w-full h-full",children:[" ",g," "]}),(0,s.jsx)("div",{onClick:O,className:"absolute top-0 left-0 w-full h-full cursor-pointer"}),e?(0,s.jsx)("div",{children:" "}):(0,s.jsxs)("div",{className:"flex justify-between text-primary-1 text-sm z-20",children:[(0,s.jsx)("p",{children:(0,u.f)(m.photo.createdAt)}),(0,s.jsx)(h.A,{image:m.photo,postId:m.photo.id,children:(0,s.jsx)(a.Ys,{color:"#FFFFFF"})})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4 z-10",children:[(0,s.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>E(),children:[S?(0,s.jsx)(a.zw,{color:"#FFFFFF"}):(0,s.jsx)(a.C3,{color:"#FFFFFF"}),(0,s.jsx)("p",{children:F?(0,l.ZV)(F?.length):""})]}),(0,s.jsxs)("button",{className:"flex gap-1 items-center",onClick:()=>C(),children:[(0,s.jsx)(a.oy,{color:"#FFFFFF"})," ",(0,s.jsx)("p",{children:D?(0,l.ZV)(D?.length):""})]})]}),e?(0,s.jsx)("p",{}):(0,s.jsxs)(x(),{href:`/home/photo/${m.photo.id}`,children:[" ",(0,s.jsx)("p",{className:"text-left text-primary-1 text-sm z-10",children:(0,l.EJ)(m.photo.caption||m.photo.prompt)})]})]}),(0,s.jsxs)("div",{className:"flex flex-col md:hidden h-full w-full justify-between items-end p-3",children:[(0,s.jsx)("div",{className:"relative block mr-4",children:(0,s.jsx)("div",{className:"absolute",children:(0,s.jsx)("div",{className:"absolute z-20",children:(0,s.jsx)(h.A,{image:m.photo,postId:m.photo.id,children:(0,s.jsx)(a.Ys,{color:"#FFFFFF"})})})})}),(0,s.jsxs)("div",{className:`flex flex-col ${"photoGridTwo"==b?" mb-12":"mb-6"}`,children:[(0,s.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,s.jsx)("button",{className:"absolute flex flex-col items-center z-10",onClick:()=>E(),children:S?(0,s.jsx)(a.zw,{color:"#FFFFFF"}):(0,s.jsx)(a.C3,{color:"#FFFFFF"})}),(0,s.jsx)("p",{className:"mt-6 z-10",children:F?(0,l.ZV)(F?.length):""})]}),(0,s.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,s.jsx)("button",{className:"absolute flex gap-1 items-center z-10",onClick:C,children:(0,s.jsx)(a.oy,{color:"#FFFFFF"})}),(0,s.jsx)("p",{className:"mt-6 z-10",children:D?(0,l.ZV)(D?.length):""})]})]})]}),(0,s.jsxs)("div",{onClick:O,className:"absolute hidden md:block w-full h-full",children:[!v&&t," "]}),(0,s.jsxs)("div",{onClick:O,className:"absolute  md:hidden w-full h-full",children:[t," "]})]})})}},70378:(e,t,r)=>{r.d(t,{bC:()=>n,Oj:()=>o,qY:()=>a,rE:()=>l,i4:()=>c});var s=r(11151),i=r(53767);async function a(e,t=0,r){let l=(0,s.eO)(t,20);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,i.vV)("Error fetching user for posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:o,error:n}=await e.from("posts").select("*").eq("author",r).neq("isPrivate",!0).neq("isDraft",!0).order("createdAt",{ascending:!1}).range(l[0],l[1]);if(n)throw(0,i.vV)("Supabase error fetching user posts",n),Error(n.message);return o.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function l(e,t=0,r){let a=(0,s.eO)(t,20);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,i.vV)("Error fetching user for private posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:o,error:n}=await e.from("posts").select("*").eq("author",r).eq("isPrivate",!0).order("createdAt",{ascending:!1}).range(a[0],a[1]);if(n)throw(0,i.vV)("Supabase error fetching private posts",n),Error(n.message);return o.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function o(e,t=0,r){let a=(0,s.eO)(t,20);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,i.vV)("Error fetching user for pinned posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:l,error:n}=await e.from("post_pins").select(`
    posts:posts (
      *,
      createdAt
    )
  `).eq("user_id",r).filter("posts.isPrivate","neq",!0).filter("posts.isDraft","neq",!0).order("createdAt",{ascending:!1}).range(a[0],a[1]);if(n)throw(0,i.vV)("Supabase error fetching pinned posts",n),Error(n.message);if(!Array.isArray(l))throw(0,i.vV)("Unexpected response from Supabase",{data:l}),Error("Invalid data format received from Supabase.");return l?.map(({posts:e})=>({...e,author:e?.author??"",category:e?.category??null,ipfsImages:Array.isArray(e?.ipfsImages)?e.ipfsImages:"string"==typeof e?.ipfsImages?JSON.parse(e.ipfsImages):null}))??[]}async function n(e,t=0,r){let a=(0,s.eO)(t,20);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,i.vV)("Error fetching user for draft posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:l,error:o}=await e.from("posts").select("*").eq("author",r).eq("isDraft",!0).order("createdAt",{ascending:!1}).range(a[0],a[1]);if(o)throw(0,i.vV)("Supabase error fetching draft posts",o),Error(o.message);return l.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function c(e,t=0,r){let a=(0,s.eO)(t,20);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,i.vV)("Error fetching user for liked posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:l,error:o}=await e.from("likes").select("posts(*),created_at").eq("author",r).neq("posts.isPrivate",!0).neq("posts.isDraft",!0).order("created_at",{ascending:!1}).range(a[0],a[1]);if(o)throw(0,i.vV)("Supabase error fetching liked posts",o),Error(o.message);return(l?.flatMap(e=>e.posts?[e.posts]:[])??[]).map(e=>({...e,author:e.author??"",ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}}};
//# sourceMappingURL=68928.js.map