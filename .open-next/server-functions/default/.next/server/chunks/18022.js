try{let t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},a=(new t.Error).stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="a6e253a2-105f-457f-9d7d-3092d76ecaaf",t._sentryDebugIdIdentifier="sentry-dbid-a6e253a2-105f-457f-9d7d-3092d76ecaaf")}catch(t){}"use strict";exports.id=18022,exports.ids=[18022],exports.modules={18022:(t,a,e)=>{e.d(a,{relayBiconomyTransaction:()=>y});var n=e(88225),o=e(34297),s=e(98598),r=e(81169),i=e(99569),d=e(413),c=e(10907),l=e(3373);async function f({account:t,serializableTransaction:a,transaction:e,gasless:i}){let c=(0,s.P)({address:i.relayerForwarderAddress,chain:e.chain,client:e.client}),f=await (0,l.readContract)({contract:c,method:"function getNonce(address,uint256) view returns (uint256)",params:[t.address,0n]}),y=Math.floor(Date.now()/1e3)+(i.deadlineSeconds??3600),h={from:t.address,to:a.to,token:o.cF,txGas:a.gas,tokenGasPrice:0n,batchId:0n,batchNonce:f,deadline:y,data:a.data};if(!h.to)throw Error("Cannot send a transaction without a `to` address");if(!h.txGas)throw Error("Cannot send a transaction without a `gas` value");if(!h.data)throw Error("Cannot send a transaction without a `data` value");let u=(0,n.h)([{type:"address"},{type:"address"},{type:"address"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[(0,r.bv)(h.from),(0,r.bv)(h.to),(0,r.bv)(h.token),h.txGas,h.tokenGasPrice,h.batchId,h.batchNonce,(0,d.S)(h.data)]);return[h,await t.signMessage({message:u})]}async function y(t){let[a,e]=await f(t),n=await fetch("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:(0,c.A)({apiId:t.gasless.apiId,params:[a,e],from:a.from,to:a.to,gasLimit:a.txGas}),headers:{"x-api-key":t.gasless.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(!n.ok)throw n.body?.cancel(),Error(`Failed to send transaction: ${await n.text()}`);let o=await n.json(),s=o.txHash;if((0,i.q)(s))return{transactionHash:s,chain:t.transaction.chain,client:t.transaction.client};throw Error(`Failed to send transaction: ${(0,c.A)(o)}`)}}};
//# sourceMappingURL=18022.js.map