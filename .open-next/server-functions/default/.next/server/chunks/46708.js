try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="dc6b7b99-23c5-479f-8cf0-46742d31542d",e._sentryDebugIdIdentifier="sentry-dbid-dc6b7b99-23c5-479f-8cf0-46742d31542d")}catch(e){}"use strict";exports.id=46708,exports.ids=[46708],exports.modules={2529:(e,t,r)=>{r.d(t,{bh:()=>a,ew:()=>i,ux:()=>s});let s=768,i=["PUBLIC","PRIVATE","LIKED","PINNED","DRAFT"],a=20},6691:(e,t,r)=>{r.d(t,{G:()=>v,KK:()=>m,X7:()=>k,Z5:()=>y,Zr:()=>h,_9:()=>c,hk:()=>x,nU:()=>f,us:()=>g}),r(6638);var s=r(5450),i=r(45247),a=r(41049),n=r(81546),o=r(9600),u=r(86211),l=r(89435),d=r(48506),p=r(16709);function c(e){let t=(0,a.useQueryClient)(),[r,i]=(0,l.useState)(1),o=(0,n.useQuery)({queryKey:["comments",e,{page:r,pageSize:10}],queryFn:async()=>(0,d.zO)(`comments-${e}-${r}-10`,async()=>{let{data:t}=await s.P.get(`/api/comments?postId=${e}&page=${r}&pageSize=10`);return t?.forEach(e=>{d.jk("comments",e),e.user&&d.jk("users",e.user)}),t||[]}),staleTime:18e4,placeholderData:e=>e}),u=(0,l.useCallback)(()=>{o.isLoading||o.isFetching||i(e=>e+1)},[o.isLoading,o.isFetching]),p=(0,l.useCallback)(()=>{o.isLoading||o.isFetching||t.prefetchQuery({queryKey:["comments",e,{page:r+1,pageSize:10}],queryFn:async()=>{let{data:t}=await s.P.get(`/api/comments?postId=${e}&page=${r+1}&pageSize=10`);return t||[]}})},[t,e,r,10,o.isLoading,o.isFetching]);return{...o,loadMoreComments:u,prefetchNextPage:p,page:r,hasMore:Array.isArray(o.data)&&10===o.data.length}}function m(e){return(0,n.useQuery)({queryKey:["replies",e],queryFn:async()=>(0,d.zO)(`replies-${e}`,async()=>{let{data:t}=await s.P.get(`/api/comments/replies?parentId=${e}`);return t?.forEach(e=>{d.jk("comments",e),e.user&&d.jk("users",e.user)}),t||[]}),staleTime:18e4})}function y(){let e=(0,a.useQueryClient)();return(0,o.useMutation)({mutationFn:async e=>{let{data:t}=await u.A.post("/api/comments",e);return t&&(0,i.z)({userId:e.author,postId:parseInt(e.post_id),type:"comment",senderId:e.senderId}),t},onMutate:async t=>{let r=t.post_id,s=t.parent_id;s?await e.cancelQueries({queryKey:["replies",s]}):await e.cancelQueries({queryKey:["comments",r]});let i=s?e.getQueryData(["replies",s]):e.getQueryData(["comments",r]),a={id:`temp-${Date.now()}`,content:t.content,created_at:new Date().toISOString(),author:t.author,post_id:r,parent_id:s||null,likes:0};return s?e.setQueryData(["replies",s],e=>e?[a,...e]:[a]):e.setQueryData(["comments",r],e=>e?[a,...e]:[a]),{previousData:i,postId:r,parentId:s}},onError:(t,r,s)=>{s?.parentId?e.setQueryData(["replies",s.parentId],s.previousData):s?.postId&&e.setQueryData(["comments",s.postId],s.previousData)},onSuccess:(t,r)=>{let s=r.post_id,i=r.parent_id;(0,d.jk)("comments",t),e.setQueryData(["post",parseInt(s)],e=>e?{...e,comment_count:(e.comment_count||0)+1}:e),i?e.invalidateQueries({queryKey:["replies",i]}):e.invalidateQueries({queryKey:["comments",s]})}})}function f(e){(0,a.useQueryClient)()}function h(e){(0,a.useQueryClient)()}function g(e){let t=(0,a.useQueryClient)();return(0,o.useMutation)({mutationFn:async e=>{await u.A.post("/api/comments/like",{comment_id:e})},onMutate:async r=>{await t.cancelQueries({queryKey:["comments",e]});let s=t.getQueryData(["comments",e]);return t.setQueryData(["comments",e],e=>e?e.map(e=>e.id===r?{...e,like_count:e.like_count+1,user_liked:!0}:e):[]),{previousComments:s}},onError:(r,s,i)=>{(0,p.vV)("Error liking comment",r),i?.previousComments&&t.setQueryData(["comments",e],i.previousComments)},onSettled:()=>{t.invalidateQueries({queryKey:["comments",e]})}})}function x(e){let t=(0,a.useQueryClient)();return(0,o.useMutation)({mutationFn:async e=>{await u.A.delete("/api/comments/like",{data:{comment_id:e}})},onMutate:async r=>{await t.cancelQueries({queryKey:["comments",e]});let s=t.getQueryData(["comments",e]);return t.setQueryData(["comments",e],e=>e?e.map(e=>e.id===r?{...e,like_count:Math.max(e.like_count-1,0),user_liked:!1}:e):[]),{previousComments:s}},onError:(r,s,i)=>{(0,p.vV)("Error unliking comment",r),i?.previousComments&&t.setQueryData(["comments",e],i.previousComments)},onSettled:()=>{t.invalidateQueries({queryKey:["comments",e]})}})}function k(e,t){let r=(0,a.useQueryClient)();return(0,o.useMutation)({mutationFn:async e=>{await u.A.post("/api/comments/like",{comment_id:e})},onMutate:async e=>{await r.cancelQueries({queryKey:["replies",t]});let s=r.getQueryData(["replies",t]);return r.setQueryData(["replies",t],t=>t?t.map(t=>t.id===e?{...t,like_count:t.like_count+1,user_liked:!0}:t):[]),{previousComments:s}},onError:(e,s,i)=>{(0,p.vV)("Error liking reply",e),i?.previousComments&&r.setQueryData(["replies",t],i.previousComments)},onSettled:()=>{r.invalidateQueries({queryKey:["replies",t]})}})}function v(e,t){let r=(0,a.useQueryClient)();return(0,o.useMutation)({mutationFn:async e=>{await u.A.delete("/api/comments/like",{data:{comment_id:e}})},onMutate:async e=>{await r.cancelQueries({queryKey:["replies",t]});let s=r.getQueryData(["replies",t]);return r.setQueryData(["replies",t],t=>t?t.map(t=>t.id===e?{...t,like_count:Math.max(t.like_count-1,0),user_liked:!1}:t):[]),{previousComments:s}},onError:(e,s,i)=>{(0,p.vV)("Error unliking reply",e),i?.previousComments&&r.setQueryData(["replies",t],i.previousComments)},onSettled:()=>{r.invalidateQueries({queryKey:["replies",t]})}})}},22229:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(42434),i=r(41246);function a({open:e,title:t,titleColor:r,children:a,setOpen:n}){let o=()=>{n(!1)};if(e)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{onClick:o,className:"fixed z-30 top-0 left-0 h-screen w-full shadow-bg"}),(0,s.jsxs)("div",{className:"fixed flex justify-center items-center z-30 top-0 left-0 h-screen w-full",children:[(0,s.jsx)("div",{onClick:o,className:"absolute z-30 top-0 left-0 h-screen w-full shadow-bg"}),(0,s.jsxs)("div",{className:"absolute z-50 rounded-[20px] border-primary-8 border-[1px] p-2 py-3 md:p-6 bg-primary-12 w-[98%] max-w-[520px] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,s.jsx)("p",{style:{color:r},className:"text-2xl text-primary-3 nasalization",children:t}),(0,s.jsx)("button",{onClick:o,children:(0,s.jsx)(i.US,{width:24,height:24,color:"#F5F5F5"})})]}),(0,s.jsx)("div",{children:a})]})]})]})}},28350:(e,t,r)=>{r.d(t,{Oj:()=>u,bC:()=>l,i4:()=>d,qY:()=>n,rE:()=>o});var s=r(98678),i=r(2529),a=r(16709);async function n(e,t=0,r){let o=(0,s.eO)(t,i.bh);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,a.vV)("Error fetching user for posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:u,error:l}=await e.from("posts").select("*").eq("author",r).neq("isPrivate",!0).neq("isDraft",!0).order("createdAt",{ascending:!1}).range(o[0],o[1]);if(l)throw(0,a.vV)("Supabase error fetching user posts",l),Error(l.message);return u.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function o(e,t=0,r){let n=(0,s.eO)(t,i.bh);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,a.vV)("Error fetching user for private posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:u,error:l}=await e.from("posts").select("*").eq("author",r).eq("isPrivate",!0).order("createdAt",{ascending:!1}).range(n[0],n[1]);if(l)throw(0,a.vV)("Supabase error fetching private posts",l),Error(l.message);return u.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function u(e,t=0,r){let n=(0,s.eO)(t,i.bh);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,a.vV)("Error fetching user for pinned posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:o,error:l}=await e.from("post_pins").select(`
    posts:posts (
      *,
      createdAt
    )
  `).eq("user_id",r).filter("posts.isPrivate","neq",!0).filter("posts.isDraft","neq",!0).order("createdAt",{ascending:!1}).range(n[0],n[1]);if(l)throw(0,a.vV)("Supabase error fetching pinned posts",l),Error(l.message);if(!Array.isArray(o))throw(0,a.vV)("Unexpected response from Supabase",{data:o}),Error("Invalid data format received from Supabase.");return o?.map(({posts:e})=>({...e,author:e?.author??"",category:e?.category??null,ipfsImages:Array.isArray(e?.ipfsImages)?e.ipfsImages:"string"==typeof e?.ipfsImages?JSON.parse(e.ipfsImages):null}))??[]}async function l(e,t=0,r){let n=(0,s.eO)(t,i.bh);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,a.vV)("Error fetching user for draft posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:o,error:u}=await e.from("posts").select("*").eq("author",r).eq("isDraft",!0).order("createdAt",{ascending:!1}).range(n[0],n[1]);if(u)throw(0,a.vV)("Supabase error fetching draft posts",u),Error(u.message);return o.map(e=>({...e,ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}async function d(e,t=0,r){let n=(0,s.eO)(t,i.bh);if(!r){let{error:t,data:s}=await e.auth.getUser();if(t)throw(0,a.vV)("Error fetching user for liked posts",t),Error("Failed to retrieve authenticated user.");if(!(r=s?.user?.id))throw Error("User ID is undefined.")}let{data:o,error:u}=await e.from("likes").select("posts(*),created_at").eq("author",r).neq("posts.isPrivate",!0).neq("posts.isDraft",!0).order("created_at",{ascending:!1}).range(n[0],n[1]);if(u)throw(0,a.vV)("Supabase error fetching liked posts",u),Error(u.message);return(o?.flatMap(e=>e.posts?[e.posts]:[])??[]).map(e=>({...e,author:e.author??"",ipfsImages:Array.isArray(e.ipfsImages)?e.ipfsImages:"string"==typeof e.ipfsImages?JSON.parse(e.ipfsImages):null}))}},36486:(e,t,r)=>{r.d(t,{r9:()=>p,s9:()=>d,yu:()=>c});var s=r(6638);r(28350);var i=r(41049),a=r(81546),n=r(9600),o=r(48506),u=r(89435),l=r(16709);function d(e,t){let r=(0,i.useQueryClient)(),n=(0,a.useQuery)({queryKey:["post_pinned",e,t],queryFn:async()=>!!e&&!!t&&(0,o.zO)(`post-pinned-${e}-${t}`,async()=>{let{data:r,error:i}=await s.N.from("post_pins").select("id").eq("post_id",e).eq("user_id",t).single();return i&&"PGRST116"!==i.code?((0,l.vV)("Error checking post pin",i),!1):!!r}),enabled:!!e&&!!t,staleTime:6e5}),d=(0,u.useCallback)(s=>{r.setQueryData(["post_pinned",e,t],s)},[e,t,r]);return{...n,isPinned:n.data||!1,setPinned:d}}function p(e){let t=(0,i.useQueryClient)();return(0,n.useMutation)({mutationFn:async t=>{if(!t||!e)throw Error("Post ID and User ID are required");let{data:r}=await s.N.from("post_pins").select("id").eq("post_id",t).eq("user_id",e).single();if(r)return{alreadyPinned:!0};let{data:i,error:a}=await s.N.from("post_pins").insert({post_id:t,user_id:e}).select("id").single();if(a)throw a;return{id:i.id,success:!0}},onMutate:async r=>{await Promise.all([t.cancelQueries({queryKey:["post_pinned",r,e]}),t.cancelQueries({queryKey:["pinned-posts",e]})]);let s=t.getQueryData(["post_pinned",r,e]),i=t.getQueryData(["pinned-posts",e]);t.setQueryData(["post_pinned",r,e],!0),(0,o.th)(t,r,{is_pinned:!0});let a=t.getQueryData(["post",r]);return a&&t.setQueryData(["pinned-posts",e],e=>Array.isArray(e)?[a,...e]:[a]),{previousPinned:s,previousPosts:i}},onError:(r,s,i)=>{i?.previousPinned!==void 0&&t.setQueryData(["post_pinned",s,e],i.previousPinned),i?.previousPosts!==void 0&&t.setQueryData(["pinned-posts",e],i.previousPosts),(0,o.th)(t,s,{is_pinned:!1})},onSuccess:()=>{t.invalidateQueries({queryKey:["pinned-posts",e]})}})}function c(e){let t=(0,i.useQueryClient)();return(0,n.useMutation)({mutationFn:async t=>{if(!t||!e)throw Error("Post ID and User ID are required");let{error:r}=await s.N.from("post_pins").delete().eq("post_id",t).eq("user_id",e);if(r)throw r;return{success:!0}},onMutate:async r=>{await Promise.all([t.cancelQueries({queryKey:["post_pinned",r,e]}),t.cancelQueries({queryKey:["pinned-posts",e]})]);let s=t.getQueryData(["post_pinned",r,e]),i=t.getQueryData(["pinned-posts",e]);return t.setQueryData(["post_pinned",r,e],!1),(0,o.th)(t,r,{is_pinned:!1}),t.setQueryData(["pinned-posts",e],e=>Array.isArray(e)?e.filter(e=>e.id!==r):[]),{previousPinned:s,previousPosts:i}},onError:(r,s,i)=>{i?.previousPinned!==void 0&&t.setQueryData(["post_pinned",s,e],i.previousPinned),i?.previousPosts!==void 0&&t.setQueryData(["pinned-posts",e],i.previousPosts),(0,o.th)(t,s,{is_pinned:!0})},onSuccess:()=>{t.invalidateQueries({queryKey:["pinned-posts",e]})}})}},40955:(e,t,r)=>{r.d(t,{G:()=>l});var s=r(16709);let i=async(e,t)=>{let{data:r,error:i}=await t.from("likes").select("*").eq("post_id",e);return i?((0,s.vV)("Error fetching post likes",i),null):r};var a=r(41049),n=r(81546),o=r(48506),u=r(89435);let l=(e,t)=>{let r=(0,a.useQueryClient)(),s=(0,n.useQuery)({queryKey:["postLikes",e],queryFn:async()=>e?(await (0,o.zO)(`postLikes-${e}`,async()=>{let r=await i(e,t);if(!r)throw Error("Failed to fetch likes");return r})).map(t=>({id:t.id,post_id:e,author:t.author,created_at:t.created_at})):[],staleTime:12e4,gcTime:6e5,enabled:!!e}),l=(0,u.useCallback)(t=>{if(!e||!t||(r.getQueryData(["postLikes",e])||[]).some(e=>e.author===t))return;let s={id:`temp-${Date.now()}`,post_id:e,author:t,created_at:new Date().toISOString()};r.setQueryData(["postLikes",e],(e=[])=>[...e,s]),r.setQueryData(["post",e],e=>e?{...e,like_count:(e.like_count||0)+1,is_liked_by_user:!0}:e)},[e,r]),d=(0,u.useCallback)(t=>{e&&t&&(r.setQueryData(["postLikes",e],(e=[])=>e.filter(e=>e.author!==t)),r.setQueryData(["post",e],e=>e?{...e,like_count:Math.max(0,(e.like_count||0)-1),is_liked_by_user:!1}:e))},[e,r]),p=(0,u.useCallback)(e=>(s.data||[]).some(t=>t.author===e),[s.data]),c=(0,u.useCallback)(()=>{e&&r.invalidateQueries({queryKey:["postLikes",e],exact:!0})},[e,r]);return{...s,likes:s.data||[],likesCount:(s.data||[]).length,addLike:l,removeLike:d,hasUserLiked:p,refreshLikes:c}}},42582:(e,t,r)=>{r.d(t,{$:()=>p});var s=r(6638),i=r(45247),a=r(16709);async function n(e,t,r){try{let{data:n,error:o}=await s.N.from("likes").select("*").eq("author",t).eq("post_id",e).single();if(o&&"PGRST116"!==o.code)return(0,a.vV)("Error fetching like",o),!1;if(n){let{error:e}=await s.N.from("likes").delete().eq("id",n.id);if(e)return(0,a.vV)("Error deleting like",e),!1}else{let{error:n}=await s.N.from("likes").insert([{author:t,post_id:e,post_author:r}]);if(n)return(0,a.vV)("Error adding like",n),!1;await (0,i.z)({userId:r,senderId:t,postId:e,type:"like"})}return!0}catch(e){return(0,a.vV)("An unexpected error occurred",e),!1}}var o=r(41049),u=r(9600),l=r(48506),d=r(89435);let p=(e,t,r)=>{let i=(0,o.useQueryClient)(),p=(0,d.useCallback)(r=>{(0,l.th)(i,e,{like_count:e=>{let t=e?.like_count||0;return r?t+1:Math.max(0,t-1)},is_liked_by_user:r}),i.setQueryData(["postLikes",e],(s=[])=>r?s.some(e=>e.author===t)?s:[...s,{id:`temp-${Date.now()}`,author:t,post_id:e}]:s.filter(e=>e.author!==t))},[i,e,t]);return(0,u.useMutation)({mutationFn:async()=>{let i=t;if(!i){let{data:e,error:t}=await s.N.auth.getUser();if(t||!e?.user?.id)throw Error("User ID is required to like a post.");i=e.user.id}return await n(e,i,r)},onMutate:async()=>{await Promise.all([i.cancelQueries({queryKey:["postLikes",e]}),i.cancelQueries({queryKey:["post",e]})]);let r=i.getQueryData(["postLikes",e]),s=i.getQueryData(["post",e]),a=r?.some(e=>e.author===t);return p(!a),{previousLikes:r,previousPost:s,isLiked:a}},onError:(t,r,s)=>{(0,a.vV)("Error toggling like",t),s?.previousLikes&&i.setQueryData(["postLikes",e],s.previousLikes),s?.previousPost&&i.setQueryData(["post",e],s.previousPost),s?.isLiked!==void 0&&p(s.isLiked)},onSuccess:t=>{i.invalidateQueries({queryKey:["post",e],exact:!0}),i.invalidateQueries({queryKey:["postLikes",e],exact:!0})}})}},43165:(e,t,r)=>{r.d(t,{A:()=>d});var s=r(42434),i=r(64393),a=r(22229),n=r(45247),o=r(17924),u=r(16862),l=r(12197);function d({link:e,open:t,setOpen:r,post:i,userId:d,isProfile:c}){let{incrementShareCount:m}=i?.id?(0,l.og)(i.id):{incrementShareCount:()=>{}};return(0,s.jsx)(a.A,{title:"Share",open:t,setOpen:r,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{className:"w-full bg-primary-13 rounded-full text-primary-6 py-2 px-4 outline-none",type:"text",value:e,readOnly:!0}),(0,s.jsxs)("div",{className:"flex justify-evenly items-center  bg-primary-10 h-[104px] rounded-[20] mt-6",children:[(0,s.jsx)("div",{className:"border-r-[1px]",children:(0,s.jsx)(p,{image:"copy.png",text:"Copy link",onClick:()=>{navigator.clipboard.writeText(e).then(()=>{console.log("Link copied to clipboard!"),(0,u.oR)("copied")}).catch(e=>{console.error("Failed to copy: ",e)})}})}),(0,s.jsx)(p,{image:"discord.png",text:"Discord",onClick:()=>{!c&&i?.id&&((0,n.z)({userId:i?.author,senderId:d,postId:i?.id,type:"share"}),m());let t=`https://discord.com/channels/@me?url=${encodeURIComponent(e)}`;window.open(t,"_blank")}}),(0,s.jsx)(o.r6,{url:e,title:"ok",children:(0,s.jsx)(p,{image:"x.png",text:"Xapp",onClick:()=>{!c&&i?.id&&((0,n.z)({userId:i?.author,senderId:d,postId:i?.id,type:"share"}),m())}})}),(0,s.jsx)(o.uI,{url:e,title:"ok",children:(0,s.jsx)(p,{image:"facebook.png",text:"Facebook",onClick:()=>{!c&&i?.id&&((0,n.z)({userId:i?.author,senderId:d,postId:i?.id,type:"share"}),m())}})}),(0,s.jsx)(o.wk,{url:e,title:"ok",children:(0,s.jsx)(p,{image:"linkedin.png",text:"LinkedIn",onClick:()=>{!c&&i?.id&&((0,n.z)({userId:i?.author,senderId:d,postId:i?.id,type:"share"}),m())}})})]})]})})}function p({image:e,text:t,onClick:r}){return(0,s.jsxs)("span",{onClick:r,className:`flex items-center cursor-pointer justify-between flex-col px-2  h-14 ${"x.png"===e?"pt-2":""} `,children:[(0,s.jsx)(i.default,{src:"/icons/"+e,width:"x.png"===e?27:36,height:"x.png"===e?27:36,alt:""}),(0,s.jsx)("p",{className:"text-primary-6 text-sm",children:t})]})}},45247:(e,t,r)=>{r.d(t,{z:()=>a});var s=r(6638),i=r(16709);let a=async({userId:e,postId:t,type:r,senderId:a})=>{if(e===a)return;let{data:n,error:o}=await s.N.from("notifications").insert([{user_id:e,post_id:t,type:r,sender_id:a}]);return o&&(0,i.vV)("Error adding notification",o),n}},56661:(e,t,r)=>{r.d(t,{A:()=>f});var s=r(42434),i=r(89435),a=r(41246),n=r(97828),o=r(7492),u=r(36486),l=r(98678),d=r(55297),p=r.n(d),c=r(75830),m=r(43165),y=r(16862);function f({children:e,image:t,postId:r}){let{userId:d}=(0,n.J)(),[f,g]=(0,i.useState)(!1),[x,k]=(0,i.useState)(!1),v=(0,o.useRouter)(),{isPinned:w,setPinned:_}=(0,u.s9)(Number(r),d),{data:Q}=(0,c.YK)(Number(r)),I=(0,u.r9)(d),b=(0,u.yu)(d),D=()=>{g(!1)};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"",onClick:()=>g(!0),children:e}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{onClick:()=>g(!1),className:"fixed z-50  top-0 left-0 h-screen w-full"}),(0,s.jsxs)("div",{className:"absolute w-[180px] xl:w-[240px] z-50 top-2 md:top-6 right-1 xl:right-0 border-primary-8 border-[1px] bg-[#191919] bg-primary-12 rounded-lg",children:[(0,s.jsx)(h,{onClick:()=>{d&&r&&(_(!w),w?b.mutate(Number(r),{onError:e=>{_(!0),y.oR.error(`Failed to unpin post: ${e.message}`)}}):I.mutate(Number(r),{onError:e=>{_(!1),y.oR.error(`Failed to pin post: ${e.message}`)}}))},icon:w?(0,s.jsx)(a.aS,{width:16,height:16,color:"#F0F0F0"}):(0,s.jsx)(a.ts,{width:16,height:16,color:"#8F8F8F"}),text:w?"Unpin":"Pin",underlineOff:!0}),(0,s.jsx)(h,{onClick:()=>{if(console.log(t),!t.src){D();return}(0,l.GV)(t.src),D()},icon:(0,s.jsx)(a.s3,{width:16,height:16,color:"#8F8F8F"}),text:"Download JPEG",underlineOff:!0}),Q&&d&&(0,s.jsx)(h,{onClick:()=>{k(!0),D()},icon:(0,s.jsx)(a.li,{width:16,height:16,color:"#8F8F8F"}),text:"Share"}),(0,s.jsx)(p(),{href:"/home/profile/"+t.author,children:(0,s.jsx)(h,{onClick:()=>{v.push("/home/profile/"+t.author),D()},icon:(0,s.jsx)(a.ny,{width:16,height:16,color:"#8F8F8F"}),text:"Go to creator profile",underlineOff:!0})})]})]}),Q&&d&&x&&(0,s.jsxs)("div",{className:"fixed z-50 top-0 left-0 h-screen w-full",children:[" ",(0,s.jsx)(m.A,{open:x,post:Q,userId:d,setOpen:k,link:"https://unreal.art/home/photo/"+r})]})]})}function h({icon:e,text:t,underlineOff:r,action:i,color:a,onClick:n}){return(0,s.jsxs)("div",{style:{color:a},onClick:n,className:`flex justify-between py-2 px-4 border-primary-8 text-primary-6 h-10 cursor-pointer ${r?"":"border-b-[1px]"}`,children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center justify-center text-sm md:text-base",children:[(0,s.jsx)("div",{children:e}),(0,s.jsx)("p",{children:t})]}),i]})}}};
//# sourceMappingURL=46708.js.map