try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="64e2a679-0d1a-4c2d-8c27-c76aef404e60",e._sentryDebugIdIdentifier="sentry-dbid-64e2a679-0d1a-4c2d-8c27-c76aef404e60")}catch(e){}"use strict";exports.id=74432,exports.ids=[74432],exports.modules={74432:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(42434),r=a(59056);a(68428);var i=a(89435),l=a(2529),n=a(56418),o=a(68037),d=a(6638),c=a(40515),g=a(59958),h=a(42005),m=a(18466),u=a(7492),x=a(75728),p=a(99224),f=a(55297),y=a.n(f),w=a(41207),N=a(46135),j=a(58312);function b({alt:e="",title:t,sizes:a},{photo:r,width:i,height:l,index:n=0}){let o=n<8,d="object"==typeof r&&null!==r&&"src"in r&&String(r.src).split("/").pop()?.split("?")[0]||`gallery-img-${n}`;return(0,s.jsx)("div",{style:{width:"100%",position:"relative",aspectRatio:`${i} / ${l}`},children:(0,s.jsx)(j.A,{fill:!0,src:r,alt:e||"Gallery image",title:t,sizes:a||"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",loading:o?"eager":"lazy",priority:o,placeholder:"blurDataURL"in r?"blur":void 0,trackPerformance:!1,imageName:d})})}function v({}){let[e,t]=(0,i.useState)(-1),[a,n]=(0,i.useState)(null),{activeTab:x,initFromUrl:p}=(0,N.t)();(0,u.useSearchParams)();let{isLoading:f,isError:y,error:j,data:v,isFetchingNextPage:L,hasNextPage:A,fetchNextPage:P}=(0,g.useInfiniteQuery)({queryKey:["posts",x.toLowerCase()],queryFn:async({pageParam:e=0})=>{let t=[];return{data:(t="EXPLORE"===x?await (0,c.K5)(d.N,e):"FOLLOWING"===x?await (0,c.BS)(d.N,e):"TOP"===x?await (0,c.rt)(d.N,e):await (0,c.K5)(d.N,e))??[],nextCursor:t.length===l.bh?e+1:void 0}},initialPageParam:0,getNextPageParam:e=>e?.nextCursor,staleTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!1}),O=e=>{t(e.index)};if(y)return(0,s.jsx)("p",{className:"wrapper",children:"message"in j?j.message:j});if(f||!a)return(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 w-full",children:Array(12).fill(null).map((e,t)=>(0,s.jsx)(w.A,{height:200,baseColor:"#1a1a1a",highlightColor:"#333"},t))});if(!v||0===v.pages.length||0===v.pages[0].data.length)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-full min-h-[200px]",children:[(0,s.jsx)("p",{className:"text-center text-lg text-primary-6",children:"No posts found"}),(0,s.jsx)("p",{className:"text-center text-sm text-primary-7 mt-2",children:"FOLLOWING"===x?"Follow some creators to see their posts here":"Be the first to share something amazing"})]});let $=(0,m.Ny)(v?.pages??[]);return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(h.A,{isLoadingInitial:f,isLoadingMore:L,loadMore:()=>A&&P(),hasNextPage:A,children:(0,s.jsx)(r.A,{photos:$,columns:a,spacing:4,render:{extras:(e,t)=>(0,s.jsx)(I,{context:t,handleImageIndex:O}),image:b}})}),(0,s.jsx)(o.A,{photo:e>-1&&$[e],setImageIndex:t})]})}function I({context:e,handleImageIndex:t}){let a=e.photo.author||"",{data:r,isLoading:i}=(0,x.A)(a),{data:l,isLoading:o}=(0,p.A)(a);return(0,s.jsx)(n.A,{setImageIndex:()=>t(e),context:e,children:(0,s.jsx)("div",{className:"absolute flex items-center gap-1 bottom-2 left-2",children:!i&&!o&&r&&(0,s.jsxs)(y(),{href:`/home/profile/${a}`,className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"rounded-full",children:l?(0,s.jsx)(j.A,{className:"rounded-full border-[1px] border-primary-3 drop-shadow-lg",src:l,width:24,height:24,alt:`${r}'s profile`,trackPerformance:!0,imageName:`profile-${a}`}):(0,s.jsx)("div",{className:"w-6 h-6 bg-gray-300 rounded-full"})}),(0,s.jsx)("p",{className:"font-light text-sm drop-shadow-lg",children:r})]})})})}}};
//# sourceMappingURL=74432.js.map